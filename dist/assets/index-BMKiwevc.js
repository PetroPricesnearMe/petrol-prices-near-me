import{r as j,b as ne,a as Q}from"./vendor-23SJiGBn.js";import{u as Z,L as F,a as q,b as le,B as ce,R as oe,c as V}from"./router-D3kyQK9g.js";import{C as de,L as me}from"./ui-8pC2wOJs.js";import{L as J,M as xe,T as ue,a as pe,P as he}from"./maps-BNILcy39.js";import{R as fe,L as je,C as be,X as ge,Y as ye,T as ve,a as Ne}from"./charts-Y1W1gFCb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var ee={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=j,Se=Symbol.for("react.element"),ke=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,Pe=we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Me={key:!0,ref:!0,__self:!0,__source:!0};function se(s,t,n){var i,a={},r=null,m=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(m=t.ref);for(i in t)Ce.call(t,i)&&!Me.hasOwnProperty(i)&&(a[i]=t[i]);if(s&&s.defaultProps)for(i in t=s.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:Se,type:s,key:r,ref:m,props:a,_owner:Pe.current}}Y.Fragment=ke;Y.jsx=se;Y.jsxs=se;ee.exports=Y;var e=ee.exports,te,K=ne;te=K.createRoot,K.hydrateRoot;function ze(){const{pathname:s}=Z();return j.useEffect(()=>{window.scrollTo(0,0)},[s]),null}function l({name:s,size:t=24,color:n="currentColor",className:i="",strokeWidth:a=2,...r}){const m=me[s];return m?e.jsx(m,{size:t,color:n,strokeWidth:a,className:i,...r}):e.jsx(de,{size:t,color:"gray",strokeWidth:a,className:i,...r})}class De extends Q.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){var i;t.__ErrorBoundary=!0,(i=window.__COMPONENT_ERROR__)==null||i.call(window,t,n)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:e.jsxs("div",{cl:!0,assName:"text-center p-8 max-w-md",children:[e.jsx("div",{className:"flex justify-center items-center mb-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42px",height:"42px",viewBox:"0 0 32 33",fill:"none",children:[e.jsx("path",{d:"M16 28.5C22.6274 28.5 28 23.1274 28 16.5C28 9.87258 22.6274 4.5 16 4.5C9.37258 4.5 4 9.87258 4 16.5C4 23.1274 9.37258 28.5 16 28.5Z",stroke:"#343330",strokeWidth:"2",strokeMiterlimit:"10"}),e.jsx("path",{d:"M11.5 15.5C12.3284 15.5 13 14.8284 13 14C13 13.1716 12.3284 12.5 11.5 12.5C10.6716 12.5 10 13.1716 10 14C10 14.8284 10.6716 15.5 11.5 15.5Z",fill:"#343330"}),e.jsx("path",{d:"M20.5 15.5C21.3284 15.5 22 14.8284 22 14C22 13.1716 21.3284 12.5 20.5 12.5C19.6716 12.5 19 13.1716 19 14C19 14.8284 19.6716 15.5 20.5 15.5Z",fill:"#343330"}),e.jsx("path",{d:"M21 22.5C19.9625 20.7062 18.2213 19.5 16 19.5C13.7787 19.5 12.0375 20.7062 11 22.5",stroke:"#343330",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[e.jsx("h1",{className:"text-2xl font-medium text-neutral-800",children:"Something went wrong"}),e.jsx("p",{className:"text-neutral-600 text-base w w-8/12 mx-auto",children:"We encountered an unexpected error while processing your request."})]}),e.jsx("div",{className:"flex justify-center items-center mt-6",children:e.jsxs("button",{onClick:()=>{window.location.href="/"},className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded flex items-center gap-2 transition-colors duration-200 shadow-sm",children:[e.jsx(l,{name:"ArrowLeft",size:18,color:"#fff"}),"Back"]})})]})}):this.props.children}}const b=Q.forwardRef(({children:s,variant:t="primary",size:n="md",shape:i="rounded",fullWidth:a=!1,disabled:r=!1,loading:m=!1,icon:c=null,iconName:u=null,iconPosition:p="left",type:o="button",iconSize:d=null,iconColor:w=null,className:k="",onClick:y,...C},P)=>{const g="inline-flex items-center justify-center transition-all duration-200 font-medium focus:ring-2 focus:outline-none",x={"2xs":"text-xs py-0.5 px-1.5",xs:"text-xs py-1 px-2",sm:"text-sm py-1.5 px-3",md:"text-base py-2 px-4",lg:"text-lg py-2.5 px-5",xl:"text-xl py-3 px-6","2xl":"text-2xl py-4 px-8"},h={rounded:"rounded",square:"rounded-none",pill:"rounded-full",circle:"rounded-full aspect-square"},f={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",success:"bg-success text-white hover:bg-opacity-90 active:bg-opacity-100 disabled:opacity-50",danger:"bg-error text-white hover:bg-opacity-90 active:bg-opacity-100 disabled:opacity-50",warning:"bg-warning text-primary-foreground hover:bg-opacity-90 active:bg-opacity-100 disabled:opacity-50",info:"bg-accent text-white hover:bg-opacity-90 active:bg-opacity-100 disabled:opacity-50",ghost:"hover:bg-primary hover:text-primary-foreground",link:"bg-transparent text-primary-foreground underline hover:text-primary-600 p-0",outline:"border border-input bg-background hover:bg-primary hover:text-primary-foreground",text:"bg-transparent text-primary-foreground hover:bg-surface hover:bg-opacity-50 active:bg-surface active:bg-opacity-70"},S=a?"w-full":"",M=r?"cursor-not-allowed opacity-60":"",N=m?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,v=()=>{if(u){const U=d||{"2xs":12,xs:14,sm:16,md:18,lg:20,xl:22,"2xl":24}[n]||18;return e.jsx("span",{style:{color:w||"currentColor"},children:e.jsx(l,{name:u,size:U,className:`${s?p==="left"?"mr-2":"ml-2":""}`})})}return c?Q.cloneElement(c,{className:`${s?p==="left"?"mr-2":"ml-2":""} h-5 w-5`}):null},z=`
                    ${g}
                    ${x[n]||x.md}
                    ${h[i]||h.rounded}
                    ${f[t]||f.primary}
                    ${S}
                    ${M}
                    ${k}
                    `;return e.jsxs("button",{ref:P,type:o,className:z,disabled:r||m,onClick:y,...C,children:[m&&N,(c||u)&&p==="left"&&v(),s,(c||u)&&p==="right"&&v()]})});function Le(){const[s,t]=j.useState(!1);j.useEffect(()=>{t(!0)},[]);const n=[{icon:"MapPin",title:"Real-Time Locations",description:"Find fuel stations near you with live location data and accurate directions."},{icon:"TrendingDown",title:"Best Prices",description:"Compare fuel prices across Melbourne to save money on every fill-up."},{icon:"Clock",title:"Live Updates",description:"Get real-time price updates and station availability information."},{icon:"Smartphone",title:"Mobile Optimized",description:"Access fuel data on-the-go with our responsive mobile interface."}],i=[{number:"1,200+",label:"Fuel Stations"},{number:"50,000+",label:"Monthly Users"},{number:"24/7",label:"Live Updates"},{number:"100%",label:"Free to Use"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary-50 to-accent-50",children:[e.jsx("header",{className:"relative bg-white/90 backdrop-blur-md shadow-elevation-2 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-primary to-accent rounded-xl shadow-elevation-2",children:e.jsx(l,{name:"Fuel",size:24,color:"white",className:"lg:w-7 lg:h-7"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg lg:text-xl font-heading font-bold text-text-primary",children:"Petrol Prices Near Me"}),e.jsx("p",{className:"text-xs text-text-secondary hidden sm:block",children:"Smart fuel price comparison"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(F,{to:"/map-dashboard",className:"text-text-secondary hover:text-primary transition-colors duration-200 font-medium",children:"Map View"}),e.jsx(F,{to:"/station-listing",className:"text-text-secondary hover:text-primary transition-colors duration-200 font-medium",children:"Station List"}),e.jsx(F,{to:"/search-and-filter-interface",className:"text-text-secondary hover:text-primary transition-colors duration-200 font-medium",children:"Search"}),e.jsx(F,{to:"/csv-data-upload",className:"text-text-secondary hover:text-primary transition-colors duration-200 font-medium",children:"Upload Data"})]}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"Menu",className:"md:hidden"})]})})}),e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-24 lg:pt-24 lg:pb-32",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:`space-y-8 ${s?"animate-fade-in":"opacity-0"}`,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[e.jsx(l,{name:"Zap",size:16,className:"mr-2"}),"Live fuel price tracking"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-text-primary leading-tight",children:["Petrol Prices"," ",e.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Near Me"})," ","in Melbourne"]}),e.jsx("p",{className:"text-lg lg:text-xl text-text-secondary leading-relaxed max-w-2xl",children:"Compare real-time fuel prices across 1,200+ stations in Melbourne. Save money on every fill-up with our smart price comparison tool."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(F,{to:"/map-dashboard",children:e.jsx(b,{variant:"primary",size:"lg",iconName:"Navigation",iconPosition:"left",className:"w-full sm:w-auto px-8 py-4 text-lg font-semibold shadow-elevation-3 hover:shadow-elevation-4 transform hover:scale-105 transition-all duration-200",children:"Explore Fuel Map"})}),e.jsx(F,{to:"/station-listing",children:e.jsx(b,{variant:"outline",size:"lg",iconName:"List",iconPosition:"left",className:"w-full sm:w-auto px-8 py-4 text-lg font-semibold border-2 hover:bg-primary hover:text-white transition-all duration-200",children:"Browse Stations"})})]}),e.jsxs("div",{className:"flex items-center space-x-6 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Shield",size:20,className:"text-success"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"100% Free"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Clock",size:20,className:"text-success"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"Real-time Data"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Users",size:20,className:"text-success"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"50k+ Users"})]})]})]}),e.jsx("div",{className:`relative ${s?"animate-fade-in":"opacity-0"}`,style:{animationDelay:"200ms"},children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-elevation-4 p-6 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Nearby Stations"}),e.jsx(l,{name:"MapPin",size:20,className:"text-primary"})]}),e.jsx("div",{className:"space-y-3",children:[{name:"Shell Collins St",price:"161.9",distance:"0.8km",trend:"down"},{name:"BP Bourke St",price:"164.5",distance:"1.2km",trend:"up"},{name:"7-Eleven Swanston",price:"159.9",distance:"1.5km",trend:"down"}].map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary text-sm",children:a.name}),e.jsxs("p",{className:"text-xs text-text-muted",children:[a.distance," away"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"font-bold text-primary",children:["$",a.price]}),e.jsx(l,{name:a.trend==="down"?"TrendingDown":"TrendingUp",size:14,className:a.trend==="down"?"text-success":"text-error"})]}),e.jsx("p",{className:"text-xs text-text-muted",children:"per litre"})]})]},r))})]}),e.jsx("div",{className:"absolute -top-4 -right-4 bg-success text-white px-3 py-2 rounded-full text-sm font-semibold shadow-elevation-3 animate-pulse",children:"Save $0.15/L"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 bg-white rounded-xl shadow-elevation-3 p-4 transform -rotate-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"TrendingDown",size:16,className:"text-success"}),e.jsx("span",{className:"text-sm font-semibold text-text-primary",children:"Prices dropping"})]})})]})})]})})]}),e.jsx("section",{className:"py-16 bg-white/50 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((a,r)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary mb-2",children:a.number}),e.jsx("div",{className:"text-text-secondary font-medium",children:a.label})]},r))})})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-surface to-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-heading font-bold text-text-primary mb-4",children:"Why Choose Petrol Prices Near Me?"}),e.jsx("p",{className:"text-lg text-text-secondary max-w-2xl mx-auto",children:"Our platform provides comprehensive fuel price comparison with real-time data to help you make informed decisions and save money."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((a,r)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-elevation-2 hover:shadow-elevation-4 transition-all duration-300 transform hover:-translate-y-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center mb-4",children:e.jsx(l,{name:a.icon,size:24,color:"white"})}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:a.title}),e.jsx("p",{className:"text-text-secondary text-sm leading-relaxed",children:a.description})]},r))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-r from-primary to-accent text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-heading font-bold mb-6",children:"Ready to Start Saving on Fuel?"}),e.jsx("p",{className:"text-lg lg:text-xl mb-8 opacity-90",children:"Join thousands of Melbourne drivers who save money every day with our fuel price comparison tool."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(F,{to:"/map-dashboard",children:e.jsx(b,{variant:"secondary",size:"lg",iconName:"Map",iconPosition:"left",className:"w-full sm:w-auto px-8 py-4 text-lg font-semibold bg-white text-primary hover:bg-primary-50 shadow-elevation-3",children:"Start Exploring Now"})}),e.jsx(F,{to:"/csv-data-upload",children:e.jsx(b,{variant:"outline",size:"lg",iconName:"Upload",iconPosition:"left",className:"w-full sm:w-auto px-8 py-4 text-lg font-semibold border-2 border-white text-white hover:bg-white hover:text-primary transition-all duration-200",children:"Contribute Data"})})]})]})]}),e.jsx("footer",{className:"bg-text-primary text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg",children:e.jsx(l,{name:"Fuel",size:20,color:"white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"Petrol Prices Near Me"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Smart fuel price comparison"})]})]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed max-w-md",children:"Helping Melbourne drivers find the best fuel prices since 2024. Compare prices, save money, and contribute to our community-driven platform."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{to:"/map-dashboard",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Map View"}),e.jsx(F,{to:"/station-listing",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Station List"}),e.jsx(F,{to:"/search-and-filter-interface",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Search Stations"}),e.jsx(F,{to:"/csv-data-upload",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Upload Data"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"mailto:help@petrolpricesnearme.com.au",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Contact Us"}),e.jsx("a",{href:"#",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Terms of Service"})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",new Date().getFullYear()," Petrol Prices Near Me. All rights reserved. Built with ❤️ for Melbourne drivers."]})})]})})]})}async function ae(){return console.warn("Airtable credentials not found. Using mock data."),Ue()}function Ae(s,t){if(!s||!t)return"0.0";const a=6371,r=(s- -37.8136)*Math.PI/180,m=(t-144.9631)*Math.PI/180,c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(-37.8136*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return(a*u).toFixed(1)}function Ue(){console.log("Using enhanced mock data with 50+ stations");const s=[{id:"mock1","Station Name":"Shell Coles Express Melbourne Central",Address:"211 La Trobe Street",City:"Melbourne",Latitude:-37.8136,Longitude:144.9631,"Price Per Liter (from Fuel Prices)":"$1.61",brand:"Shell",distance:"0.8",lastUpdated:"2 hours ago",amenities:["24/7","Car Wash","ATM","Convenience Store"],fuelTypes:["Unleaded 91","Premium 95","Diesel"]},{id:"mock2","Station Name":"BP Connect Collins Street",Address:"456 Collins Street",City:"Melbourne",Latitude:-37.8142,Longitude:144.9632,"Price Per Liter (from Fuel Prices)":"$1.67",brand:"BP",distance:"1.2",lastUpdated:"1 hour ago",amenities:["24/7","Restrooms","Air Pump"],fuelTypes:["Unleaded 91","Premium 95","Premium 98","Diesel"]},{id:"mock3","Station Name":"7-Eleven Swanston Street",Address:"789 Swanston Street",City:"Carlton",Latitude:-37.8014,Longitude:144.9658,"Price Per Liter (from Fuel Prices)":"$1.63",brand:"7-Eleven",distance:"1.5",lastUpdated:"3 hours ago",amenities:["24/7","Convenience Store","Coffee"],fuelTypes:["Unleaded 91","E10","Diesel"]}],t=[],n=[{name:"Richmond",lat:-37.82,lng:144.995},{name:"Fitzroy",lat:-37.795,lng:144.978},{name:"South Yarra",lat:-37.84,lng:144.99},{name:"Prahran",lat:-37.85,lng:144.99},{name:"St Kilda",lat:-37.868,lng:144.978},{name:"Docklands",lat:-37.82,lng:144.94},{name:"Southbank",lat:-37.825,lng:144.96},{name:"Collingwood",lat:-37.805,lng:144.985},{name:"Brunswick",lat:-37.77,lng:144.96},{name:"Northcote",lat:-37.77,lng:144.995}],i=["Shell","BP","7-Eleven","Caltex","Mobil","United","Metro","Liberty"];return n.forEach((a,r)=>{i.forEach((m,c)=>{const u=`mock${s.length+r*i.length+c+1}`,p=(1.55+Math.random()*.2).toFixed(2),o=Ae(a.lat,a.lng);t.push({id:u,"Station Name":`${m} ${a.name}`,Address:`${Math.floor(Math.random()*999)+1} ${a.name} Street`,City:a.name,Latitude:a.lat+(Math.random()-.5)*.01,Longitude:a.lng+(Math.random()-.5)*.01,"Price Per Liter (from Fuel Prices)":`$${p}`,brand:m,distance:o,lastUpdated:`${Math.floor(Math.random()*6)+1} hours ago`,amenities:Te(),fuelTypes:Ee()})})}),[...s,...t]}function Te(){const s=["24/7","Car Wash","ATM","Convenience Store","Restrooms","Air Pump","Vacuum","Coffee","Food Service","Loyalty Program"],t=Math.floor(Math.random()*4)+2;return s.sort(()=>.5-Math.random()).slice(0,t)}function Ee(){const s=["Unleaded 91","Premium 95","Premium 98","Diesel","E10","LPG"],t=Math.floor(Math.random()*3)+2;return s.sort(()=>.5-Math.random()).slice(0,t)}const O=()=>{const[s,t]=j.useState(!1),n=Z(),i=()=>{t(!s)},a=()=>{t(!1)},r=c=>n.pathname===c,m=[{path:"/map-dashboard",label:"Map",icon:"Map"},{path:"/station-listing",label:"Station List",icon:"List"},{path:"/search-and-filter-interface",label:"Search",icon:"Search"},{path:"/csv-data-upload",label:"Upload Data",icon:"Upload"}];return e.jsx("header",{className:"fixed top-0 left-0 right-0 z-fixed bg-surface border-b border-border shadow-elevation-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(F,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200",onClick:a,children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-lg",children:e.jsx(l,{name:"Fuel",size:20,color:"white",className:"lg:w-6 lg:h-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg lg:text-xl font-heading font-semibold text-text-primary",children:"Petrol Prices Near Me"}),e.jsx("span",{className:"text-xs text-text-secondary hidden sm:block",children:"Find the best fuel prices"})]})]})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:m.map(c=>e.jsxs(F,{to:c.path,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r(c.path)?"bg-primary text-primary-foreground shadow-elevation-1":"text-text-secondary hover:text-text-primary hover:bg-surface-secondary"}`,children:[e.jsx(l,{name:c.icon,size:18}),e.jsx("span",{children:c.label})]},c.path))}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"Upload",iconPosition:"left",onClick:()=>window.location.href="/csv-data-upload",children:"Quick Upload"}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"Search",onClick:()=>{window.location.href="/search-and-filter-interface"},children:"Search"})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx(b,{variant:"ghost",size:"sm",iconName:s?"X":"Menu",onClick:i,className:"p-2"})})]}),s&&e.jsx("div",{className:"lg:hidden border-t border-border bg-surface animate-slide-down",children:e.jsxs("nav",{className:"py-4 space-y-1",children:[m.map(c=>e.jsxs(F,{to:c.path,onClick:a,className:`flex items-center space-x-3 px-4 py-3 text-base font-medium transition-all duration-200 ${r(c.path)?"bg-primary-50 text-primary border-r-2 border-primary":"text-text-secondary hover:text-text-primary hover:bg-surface-secondary"}`,children:[e.jsx(l,{name:c.icon,size:20}),e.jsx("span",{children:c.label})]},c.path)),e.jsxs("div",{className:"pt-4 mt-4 border-t border-border space-y-2",children:[e.jsx(b,{variant:"primary",size:"sm",iconName:"Upload",iconPosition:"left",fullWidth:!0,onClick:()=>{a(),window.location.href="/csv-data-upload"},children:"Upload Data"}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Search",iconPosition:"left",fullWidth:!0,onClick:()=>{a(),window.location.href="/search-and-filter-interface"},children:"Search Stations"})]})]})})]})})},R=j.forwardRef(({className:s="",type:t="text",...n},i)=>t==="checkbox"?e.jsx("input",{type:"checkbox",className:"h-4 w-4 mx-1 rounded border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",ref:i,...n}):t==="radio"?e.jsx("input",{type:"radio",className:"h-4 w-4 mx-1 rounded-full border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"+" "+s,ref:i,...n}):e.jsx("input",{type:t,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"+" "+s,ref:i,...n}));R.displayName="Input";const $e=({isOpen:s,onClose:t,onSearch:n,onFilterChange:i})=>{const[a,r]=j.useState(""),[m,c]=j.useState("all"),[u,p]=j.useState("10"),[o,d]=j.useState("price"),[w,k]=j.useState(!1),y=[{value:"all",label:"All Fuel Types"},{value:"unleaded",label:"Unleaded 91"},{value:"premium",label:"Premium 95"},{value:"premium98",label:"Premium 98"},{value:"diesel",label:"Diesel"},{value:"e10",label:"E10"}],C=[{value:"price",label:"Lowest Price"},{value:"distance",label:"Nearest First"},{value:"brand",label:"Brand Name"},{value:"updated",label:"Recently Updated"}],P=[{value:"5",label:"5 km"},{value:"10",label:"10 km"},{value:"20",label:"20 km"},{value:"50",label:"50 km"}],g=()=>{const f={query:a,fuelType:m,maxDistance:parseInt(u),sortBy:o};n==null||n(f)},x=()=>{r(""),c("all"),p("10"),d("price"),k(!1),i==null||i({query:"",fuelType:"all",maxDistance:10,sortBy:"price"})},h=(f,S)=>{switch(f){case"query":r(S);break;case"fuelType":c(S);break;case"distance":p(S);break;case"sortBy":d(S);break}i==null||i({query:f==="query"?S:a,fuelType:f==="fuelType"?S:m,maxDistance:parseInt(f==="distance"?S:u),sortBy:f==="sortBy"?S:o})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-modal-backdrop lg:hidden",onClick:t}),e.jsx("div",{className:`
        fixed lg:absolute top-0 right-0 h-full w-full lg:w-80 xl:w-96 
        bg-surface shadow-elevation-4 z-modal lg:z-dropdown
        transform transition-transform duration-300 ease-out
        ${s?"translate-x-0":"translate-x-full"}
        lg:translate-x-0 lg:shadow-elevation-3
      `,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Search",size:20,className:"text-primary"}),e.jsx("h2",{className:"text-lg font-heading font-semibold text-text-primary",children:"Search & Filter"})]}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"X",onClick:t,className:"lg:hidden"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Search Location or Station"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{type:"search",placeholder:"Enter suburb, postcode, or station name",value:a,onChange:f=>h("query",f.target.value),className:"pl-10"}),e.jsx(l,{name:"MapPin",size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Fuel Type"}),e.jsx("select",{value:m,onChange:f=>h("fuelType",f.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:y.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Maximum Distance"}),e.jsx("select",{value:u,onChange:f=>h("distance",f.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:P.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Sort Results By"}),e.jsx("select",{value:o,onChange:f=>h("sortBy",f.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:C.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx(b,{variant:"ghost",size:"sm",iconName:w?"ChevronUp":"ChevronDown",iconPosition:"right",onClick:()=>k(!w),className:"w-full justify-between",children:"Advanced Filters"}),w&&e.jsxs("div",{className:"mt-4 space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Price Range (per litre)"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{type:"number",placeholder:"Min",step:"0.01",min:"0",className:"flex-1"}),e.jsx("span",{className:"flex items-center text-text-muted",children:"to"}),e.jsx(R,{type:"number",placeholder:"Max",step:"0.01",min:"0",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Preferred Brands"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Shell","BP","Caltex","7-Eleven","Mobil","United"].map(f=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx(R,{type:"checkbox",className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-text-secondary",children:f})]},f))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:["24/7 Open","Car Wash","Convenience Store","ATM","Restrooms"].map(f=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx(R,{type:"checkbox",className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-text-secondary",children:f})]},f))})]})]})]})]}),e.jsxs("div",{className:"p-4 lg:p-6 border-t border-border bg-surface-secondary",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(b,{variant:"outline",size:"sm",onClick:x,className:"flex-1",children:"Reset"}),e.jsx(b,{variant:"primary",size:"sm",iconName:"Search",iconPosition:"left",onClick:g,className:"flex-1",children:"Search"})]}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("span",{className:"text-xs text-text-muted",children:["Found 24 stations within ",u,"km"]})})]})]})})]}):null},_=({isOpen:s,onClose:t,title:n,children:i,size:a="md",showCloseButton:r=!0,closeOnBackdrop:m=!0,footer:c,className:u=""})=>{j.useEffect(()=>{const d=w=>{w.key==="Escape"&&s&&(t==null||t())};return s&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[s,t]);const p=d=>{d.target===d.currentTarget&&m&&(t==null||t())},o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};return s?e.jsxs("div",{className:"fixed inset-0 z-modal-backdrop",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:p}),e.jsx("div",{className:"relative z-modal flex items-center justify-center min-h-full p-4",children:e.jsxs("div",{className:`
            relative w-full ${o[a]} 
            bg-surface rounded-xl shadow-elevation-4 
            transform transition-all duration-300 ease-out
            animate-fade-in
            ${u}
          `,children:[(n||r)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[n&&e.jsx("h2",{className:"text-xl font-heading font-semibold text-text-primary",children:n}),r&&e.jsx(b,{variant:"ghost",size:"sm",iconName:"X",onClick:t,className:"ml-auto"})]}),e.jsx("div",{className:"p-6",children:i}),c&&e.jsx("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border bg-surface-secondary rounded-b-xl",children:c})]})})]}):null},Fe=({isOpen:s,onClose:t,station:n})=>{if(!n)return null;const i=()=>{const c=`https://www.google.com/maps/dir/?api=1&destination=${n.latitude},${n.longitude}`;window.open(c,"_blank")},a=()=>{n.phone&&(window.location.href=`tel:${n.phone}`)},r=n.fuelPrices||[{type:"Unleaded 91",price:1.65,lastUpdated:"2 hours ago"},{type:"Premium 95",price:1.75,lastUpdated:"2 hours ago"},{type:"Diesel",price:1.58,lastUpdated:"3 hours ago"}],m=n.amenities||["24/7 Open","Car Wash","Convenience Store","ATM","Restrooms"];return e.jsx(_,{isOpen:s,onClose:t,title:n.name||"Station Details",size:"lg",footer:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outline",onClick:t,children:"Close"}),e.jsx(b,{variant:"secondary",iconName:"Phone",iconPosition:"left",onClick:a,disabled:!n.phone,children:"Call Station"}),e.jsx(b,{variant:"primary",iconName:"Navigation",iconPosition:"left",onClick:i,children:"Get Directions"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary mb-2",children:"Station Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"MapPin",size:16,className:"text-text-muted mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-primary",children:n.address}),e.jsxs("p",{className:"text-xs text-text-secondary",children:[n.suburb,", ",n.postcode]})]})]}),n.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Phone",size:16,className:"text-text-muted"}),e.jsx("span",{className:"text-sm text-text-primary",children:n.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Clock",size:16,className:"text-text-muted"}),e.jsx("span",{className:"text-sm text-text-primary",children:n.hours||"24/7"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Navigation",size:16,className:"text-text-muted"}),e.jsxs("span",{className:"text-sm text-text-primary",children:[n.distance||"2.3"," km away"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-2",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((c,u)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary-100 text-xs text-text-secondary",children:c},u))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary mb-4",children:"Current Fuel Prices"}),e.jsx("div",{className:"space-y-3",children:r.map((c,u)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:c.type}),e.jsxs("p",{className:"text-xs text-text-secondary",children:["Updated ",c.lastUpdated]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-data font-semibold text-primary",children:["$",c.price.toFixed(2)]}),e.jsx("p",{className:"text-xs text-text-muted",children:"per litre"})]})]},u))}),e.jsx("div",{className:"mt-4 p-3 bg-accent-50 rounded-lg border border-accent-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"TrendingDown",size:16,className:"text-accent"}),e.jsx("span",{className:"text-sm font-medium text-accent-700",children:"Save up to $0.12/L compared to nearby stations"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary mb-3",children:"Recent Updates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-surface-secondary rounded-lg",children:[e.jsx(l,{name:"Clock",size:16,className:"text-text-muted mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-primary",children:"Prices updated 2 hours ago"}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Verified by community member"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-surface-secondary rounded-lg",children:[e.jsx(l,{name:"CheckCircle",size:16,className:"text-success mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-primary",children:"Station confirmed open"}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Verified 1 hour ago"})]})]})]})]})]})})};delete J.Icon.Default.prototype._getIconUrl;J.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Re(){const[s,t]=j.useState([]),[n,i]=j.useState(null),[a,r]=j.useState(!1),[m,c]=j.useState(!0),[u,p]=j.useState(null);return j.useEffect(()=>{(async()=>{try{c(!0);const d=await ae();console.log("Fetched stations:",d),t(d)}catch(d){console.error("Error fetching stations:",d),p(d.message),t([{id:"1","Station Name":"Shell Coles Express",Address:"123 Collins Street",City:"Melbourne",Latitude:-37.8136,Longitude:144.9631,"Price Per Liter (from Fuel Prices)":"$1.65"}])}finally{c(!1)}})()},[]),m?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"pt-16 lg:pt-20 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-text-secondary",children:"Loading map data..."})]})})]}):u&&s.length===0?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"pt-16 lg:pt-20 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg text-error mb-4",children:["Error loading map data: ",u]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Retry"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsxs("main",{className:"pt-16 lg:pt-20 relative",children:[e.jsx("div",{className:"h-screen w-full",children:e.jsxs(xe,{center:[-37.8136,144.9631],zoom:12,style:{height:"100%",width:"100%"},className:"z-0",children:[e.jsx(ue,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),s.filter(o=>o.Latitude&&o.Longitude).map(o=>e.jsx(pe,{position:[o.Latitude,o.Longitude],eventHandlers:{click:()=>i(o)},children:e.jsx(he,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("strong",{children:o["Station Name"]||"Unknown Station"}),e.jsx("br",{}),o.Address||"No Address",", ",o.City||"Unknown City",e.jsx("br",{}),o["Price Per Liter (from Fuel Prices)"]?e.jsxs("span",{className:"text-primary font-semibold",children:["💲 ",o["Price Per Liter (from Fuel Prices)"]," per L"]}):e.jsx("span",{className:"text-text-muted",children:"No price listed"})]})})},o.id))]})}),e.jsx($e,{isOpen:a,onClose:()=>r(!1),onSearch:o=>{console.log("Search filters:",o),r(!1)},onFilterChange:o=>{console.log("Filter change:",o)}}),n&&e.jsx(Fe,{isOpen:!!n,onClose:()=>i(null),station:n}),e.jsx("button",{onClick:()=>r(!0),className:"fixed top-24 right-4 z-50 bg-primary text-white p-3 rounded-full shadow-lg hover:bg-primary-700 transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}const Be=()=>{const s=q(),[t,n]=j.useState([]),[i,a]=j.useState(!0),[r,m]=j.useState(null),[c,u]=j.useState(1),[p,o]=j.useState("price"),[d,w]=j.useState("all"),[k,y]=j.useState(""),C=12,P=[{id:"1","Station Name":"Shell Coles Express Melbourne Central",Address:"211 La Trobe Street",City:"Melbourne",Latitude:-37.8136,Longitude:144.9631,"Price Per Liter (from Fuel Prices)":"$1.61",brand:"Shell",distance:"0.8",lastUpdated:"2 hours ago",amenities:["24/7","Car Wash","ATM","Convenience Store"],fuelTypes:["Unleaded 91","Premium 95","Diesel"]},{id:"2","Station Name":"BP Connect Collins Street",Address:"456 Collins Street",City:"Melbourne",Latitude:-37.8142,Longitude:144.9632,"Price Per Liter (from Fuel Prices)":"$1.67",brand:"BP",distance:"1.2",lastUpdated:"1 hour ago",amenities:["24/7","Restrooms","Air Pump"],fuelTypes:["Unleaded 91","Premium 95","Premium 98","Diesel"]},{id:"3","Station Name":"7-Eleven Swanston Street",Address:"789 Swanston Street",City:"Carlton",Latitude:-37.8014,Longitude:144.9658,"Price Per Liter (from Fuel Prices)":"$1.63",brand:"7-Eleven",distance:"1.5",lastUpdated:"3 hours ago",amenities:["24/7","Convenience Store","Coffee"],fuelTypes:["Unleaded 91","E10","Diesel"]},{id:"4","Station Name":"Caltex Woolworths South Yarra",Address:"123 Toorak Road",City:"South Yarra",Latitude:-37.84,Longitude:144.99,"Price Per Liter (from Fuel Prices)":"$1.59",brand:"Caltex",distance:"2.1",lastUpdated:"1 hour ago",amenities:["Car Wash","ATM","Loyalty Program"],fuelTypes:["Unleaded 91","Premium 95","Diesel","LPG"]},{id:"5","Station Name":"Mobil Richmond",Address:"567 Swan Street",City:"Richmond",Latitude:-37.82,Longitude:144.995,"Price Per Liter (from Fuel Prices)":"$1.65",brand:"Mobil",distance:"1.8",lastUpdated:"4 hours ago",amenities:["Restrooms","Air Pump","Vacuum"],fuelTypes:["Unleaded 91","Premium 95","Premium 98"]},{id:"6","Station Name":"United Petroleum Fitzroy",Address:"234 Brunswick Street",City:"Fitzroy",Latitude:-37.795,Longitude:144.978,"Price Per Liter (from Fuel Prices)":"$1.58",brand:"United",distance:"2.3",lastUpdated:"2 hours ago",amenities:["24/7","Car Wash","Convenience Store"],fuelTypes:["Unleaded 91","E10","Diesel"]},{id:"7","Station Name":"Shell V-Power Prahran",Address:"890 Chapel Street",City:"Prahran",Latitude:-37.85,Longitude:144.99,"Price Per Liter (from Fuel Prices)":"$1.72",brand:"Shell",distance:"2.8",lastUpdated:"1 hour ago",amenities:["Premium Service","Car Wash","ATM"],fuelTypes:["Premium 95","Premium 98","V-Power"]},{id:"8","Station Name":"BP Ultimate St Kilda",Address:"345 Acland Street",City:"St Kilda",Latitude:-37.868,Longitude:144.978,"Price Per Liter (from Fuel Prices)":"$1.69",brand:"BP",distance:"3.2",lastUpdated:"2 hours ago",amenities:["Beach Location","Restrooms","Coffee"],fuelTypes:["Unleaded 91","Premium 95","Ultimate 98"]},{id:"9","Station Name":"Coles Express Docklands",Address:"678 Collins Street",City:"Docklands",Latitude:-37.82,Longitude:144.94,"Price Per Liter (from Fuel Prices)":"$1.64",brand:"Shell",distance:"1.9",lastUpdated:"3 hours ago",amenities:["Waterfront","Convenience Store","ATM"],fuelTypes:["Unleaded 91","Premium 95","Diesel"]},{id:"10","Station Name":"7-Eleven Southbank",Address:"123 Southbank Boulevard",City:"Southbank",Latitude:-37.825,Longitude:144.96,"Price Per Liter (from Fuel Prices)":"$1.66",brand:"7-Eleven",distance:"1.4",lastUpdated:"1 hour ago",amenities:["24/7","River Views","Coffee"],fuelTypes:["Unleaded 91","E10","Diesel"]},{id:"11","Station Name":"Metro Petroleum Carlton",Address:"456 Lygon Street",City:"Carlton",Latitude:-37.8,Longitude:144.97,"Price Per Liter (from Fuel Prices)":"$1.57",brand:"Metro",distance:"2.0",lastUpdated:"5 hours ago",amenities:["Budget Friendly","Basic Service"],fuelTypes:["Unleaded 91","Diesel"]},{id:"12","Station Name":"Liberty Oil Collingwood",Address:"789 Smith Street",City:"Collingwood",Latitude:-37.805,Longitude:144.985,"Price Per Liter (from Fuel Prices)":"$1.62",brand:"Liberty",distance:"2.5",lastUpdated:"2 hours ago",amenities:["Local Favorite","Air Pump","Vacuum"],fuelTypes:["Unleaded 91","Premium 95","Diesel"]}];j.useEffect(()=>{(async()=>{try{a(!0);const z=await ae();z&&z.length>0?n(z):n(P)}catch(z){console.error("Error fetching stations:",z),n(P)}finally{a(!1)}})()},[]);const g=t.filter(v=>{var U,T,L,$,G;const z=((U=v["Station Name"])==null?void 0:U.toLowerCase().includes(k.toLowerCase()))||((T=v.Address)==null?void 0:T.toLowerCase().includes(k.toLowerCase()))||((L=v.City)==null?void 0:L.toLowerCase().includes(k.toLowerCase()))||(($=v.brand)==null?void 0:$.toLowerCase().includes(k.toLowerCase())),D=d==="all"||((G=v.brand)==null?void 0:G.toLowerCase())===d.toLowerCase();return z&&D}),x=[...g].sort((v,z)=>{var D,U;switch(p){case"price":const T=parseFloat(((D=v["Price Per Liter (from Fuel Prices)"])==null?void 0:D.replace("$",""))||"0"),L=parseFloat(((U=z["Price Per Liter (from Fuel Prices)"])==null?void 0:U.replace("$",""))||"0");return T-L;case"distance":return parseFloat(v.distance||"0")-parseFloat(z.distance||"0");case"name":return(v["Station Name"]||"").localeCompare(z["Station Name"]||"");case"brand":return(v.brand||"").localeCompare(z.brand||"");default:return 0}}),h=Math.ceil(x.length/C),f=(c-1)*C,S=x.slice(f,f+C),M=v=>({Shell:"bg-red-100 text-red-700",BP:"bg-green-100 text-green-700","7-Eleven":"bg-orange-100 text-orange-700",Caltex:"bg-blue-100 text-blue-700",Mobil:"bg-purple-100 text-purple-700",United:"bg-teal-100 text-teal-700",Metro:"bg-gray-100 text-gray-700",Liberty:"bg-indigo-100 text-indigo-700"})[v]||"bg-gray-100 text-gray-700",N=v=>{s(`/station/${v.id}`)};return i?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"pt-16 lg:pt-20 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-text-secondary",children:"Loading stations..."})]})})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary mb-2",children:[e.jsx(F,{to:"/",className:"hover:text-primary transition-colors duration-200",children:"Home"}),e.jsx(l,{name:"ChevronRight",size:16}),e.jsx("span",{children:"Station Listing"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-heading font-bold text-text-primary mb-2",children:"Fuel Stations Near You"}),e.jsxs("p",{className:"text-text-secondary",children:["Browse ",g.length," fuel stations in Melbourne with real-time pricing"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"Map",iconPosition:"left",onClick:()=>s("/map-dashboard"),children:"Map View"}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Filter",iconPosition:"left",onClick:()=>s("/search-and-filter-interface"),children:"Advanced Search"})]})]})]}),e.jsx("div",{className:"bg-surface rounded-lg border border-border p-4 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{name:"Search",size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"text",placeholder:"Search stations, addresses, or brands...",value:k,onChange:v=>y(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:v=>w(v.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:[e.jsx("option",{value:"all",children:"All Brands"}),e.jsx("option",{value:"shell",children:"Shell"}),e.jsx("option",{value:"bp",children:"BP"}),e.jsx("option",{value:"7-eleven",children:"7-Eleven"}),e.jsx("option",{value:"caltex",children:"Caltex"}),e.jsx("option",{value:"mobil",children:"Mobil"}),e.jsx("option",{value:"united",children:"United"}),e.jsx("option",{value:"metro",children:"Metro"}),e.jsx("option",{value:"liberty",children:"Liberty"})]})}),e.jsx("div",{children:e.jsxs("select",{value:p,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:[e.jsx("option",{value:"price",children:"Lowest Price"}),e.jsx("option",{value:"distance",children:"Nearest First"}),e.jsx("option",{value:"name",children:"Station Name"}),e.jsx("option",{value:"brand",children:"Brand"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:S.map(v=>{var z,D;return e.jsxs("div",{onClick:()=>N(v),className:"bg-surface rounded-lg border border-border hover:border-primary hover:shadow-elevation-3 transition-all duration-200 cursor-pointer group",children:[e.jsxs("div",{className:"p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-text-primary group-hover:text-primary transition-colors duration-200 truncate",children:v["Station Name"]}),e.jsxs("p",{className:"text-sm text-text-secondary truncate",children:[v.Address,", ",v.City]})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${M(v.brand)}`,children:v.brand})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"Navigation",size:14}),e.jsxs("span",{children:[v.distance," km"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"Clock",size:14}),e.jsx("span",{children:v.lastUpdated})]})]})]}),e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-secondary",children:"Unleaded 91"}),e.jsx("p",{className:"text-2xl font-data font-bold text-primary",children:v["Price Per Liter (from Fuel Prices)"]}),e.jsx("p",{className:"text-xs text-text-muted",children:"per litre"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[e.jsx(l,{name:"TrendingDown",size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Best Price"})]})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(z=v.amenities)==null?void 0:z.slice(0,3).map((U,T)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary-100 text-xs text-text-secondary",children:U},T)),((D=v.amenities)==null?void 0:D.length)>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary-100 text-xs text-text-secondary",children:["+",v.amenities.length-3," more"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"Navigation",iconPosition:"left",onClick:U=>{U.stopPropagation();const T=`https://www.google.com/maps/dir/?api=1&destination=${v.Latitude},${v.Longitude}`;window.open(T,"_blank")},className:"text-xs",children:"Directions"}),e.jsx(b,{variant:"primary",size:"sm",iconName:"Eye",iconPosition:"left",className:"text-xs",children:"View Details"})]})]})]},v.id)})}),h>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:["Showing ",f+1,"-",Math.min(f+C,x.length)," of ",x.length," stations"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"ChevronLeft",onClick:()=>u(v=>Math.max(v-1,1)),disabled:c===1,children:"Previous"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[Array.from({length:Math.min(5,h)},(v,z)=>{const D=z+1;return e.jsx("button",{onClick:()=>u(D),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200 ${c===D?"bg-primary text-primary-foreground":"text-text-secondary hover:text-text-primary hover:bg-surface-secondary"}`,children:D},D)}),h>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-text-muted",children:"..."}),e.jsx("button",{onClick:()=>u(h),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200 ${c===h?"bg-primary text-primary-foreground":"text-text-secondary hover:text-text-primary hover:bg-surface-secondary"}`,children:h})]})]}),e.jsx(b,{variant:"outline",size:"sm",iconName:"ChevronRight",onClick:()=>u(v=>Math.min(v+1,h)),disabled:c===h,children:"Next"})]})]}),g.length===0&&!i&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(l,{name:"Search",size:48,className:"text-text-muted mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"No stations found"}),e.jsx("p",{className:"text-text-secondary mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(b,{variant:"outline",onClick:()=>{y(""),w("all"),u(1)},children:"Clear Filters"})]})]})})]})},Ie=({onFileSelect:s,isUploading:t,uploadProgress:n})=>{const[i,a]=j.useState(!1),r=j.useRef(null),m=d=>{d.preventDefault(),a(!0)},c=d=>{d.preventDefault(),a(!1)},u=d=>{d.preventDefault(),a(!1);const k=Array.from(d.dataTransfer.files).find(y=>y.type==="text/csv"||y.name.endsWith(".csv"));k&&s(k)},p=d=>{const w=d.target.files[0];w&&s(w)},o=()=>{var d;(d=r.current)==null||d.click()};return e.jsx("div",{className:"w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:`
          relative border-2 border-dashed rounded-xl p-8 lg:p-12 text-center transition-all duration-300
          ${i?"border-primary bg-primary-50 scale-105":"border-border hover:border-primary-300 bg-surface"}
          ${t?"pointer-events-none opacity-75":"cursor-pointer"}
        `,onDragOver:m,onDragLeave:c,onDrop:u,onClick:t?void 0:o,children:[e.jsx("input",{ref:r,type:"file",accept:".csv",onChange:p,className:"hidden",disabled:t}),t?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin",children:e.jsx(l,{name:"Loader2",size:48,className:"text-primary"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-medium text-text-primary",children:"Processing your file..."}),e.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[n,"% complete"]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`
                p-4 rounded-full transition-colors duration-300
                ${i?"bg-primary text-white":"bg-primary-100 text-primary"}
              `,children:e.jsx(l,{name:"Upload",size:32})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-heading font-semibold text-text-primary",children:"Upload CSV File"}),e.jsx("p",{className:"text-text-secondary",children:"Drag and drop your petrol station data file here, or click to browse"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{variant:"primary",size:"lg",iconName:"FolderOpen",iconPosition:"left",onClick:o,children:"Choose File"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Supported format: CSV files up to 10MB"})]})]}),i&&e.jsx("div",{className:"absolute inset-0 bg-primary bg-opacity-10 rounded-xl flex items-center justify-center",children:e.jsx("div",{className:"text-primary font-medium",children:"Drop your CSV file here"})})]})})},Oe=()=>{const[s,t]=j.useState(!1),n=[{name:"station_name",description:"Name of the petrol station",example:"Shell Coles Express"},{name:"address",description:"Street address",example:"123 Collins Street"},{name:"suburb",description:"Suburb name",example:"Melbourne"},{name:"postcode",description:"Postal code",example:"3000"},{name:"latitude",description:"Latitude coordinate",example:"-37.8136"},{name:"longitude",description:"Longitude coordinate",example:"144.9631"},{name:"brand",description:"Station brand/company",example:"Shell"},{name:"unleaded_91",description:"Price per litre (optional)",example:"1.65"},{name:"premium_95",description:"Price per litre (optional)",example:"1.75"},{name:"diesel",description:"Price per litre (optional)",example:"1.58"}],i=`station_name,address,suburb,postcode,latitude,longitude,brand,unleaded_91,premium_95,diesel
Shell Coles Express,123 Collins Street,Melbourne,3000,-37.8136,144.9631,Shell,1.65,1.75,1.58
BP Connect,456 Bourke Street,Melbourne,3000,-37.8142,144.9632,BP,1.67,1.77,1.60
7-Eleven,789 Swanston Street,Carlton,3053,-37.8014,144.9658,7-Eleven,1.63,1.73,1.56`;return e.jsx("div",{className:"w-full max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:[e.jsxs(b,{variant:"ghost",onClick:()=>t(!s),className:"w-full p-4 flex items-center justify-between hover:bg-surface-secondary",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"FileText",size:20,className:"text-primary"}),e.jsx("span",{className:"font-medium text-text-primary",children:"CSV Format Requirements"})]}),e.jsx(l,{name:s?"ChevronUp":"ChevronDown",size:20,className:"text-text-muted"})]}),s&&e.jsx("div",{className:"border-t border-border animate-fade-in",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-heading font-semibold text-text-primary mb-4",children:"Required Columns"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-left py-2 px-3 font-medium text-text-primary",children:"Column Name"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-text-primary",children:"Description"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-text-primary",children:"Example"})]})}),e.jsx("tbody",{children:n.map((a,r)=>e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("td",{className:"py-2 px-3",children:e.jsx("code",{className:"bg-secondary-100 px-2 py-1 rounded text-xs font-data",children:a.name})}),e.jsx("td",{className:"py-2 px-3 text-text-secondary",children:a.description}),e.jsx("td",{className:"py-2 px-3 text-text-muted font-data text-xs",children:a.example})]},r))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-heading font-semibold text-text-primary mb-3",children:"Sample CSV Data"}),e.jsx("div",{className:"bg-secondary-50 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-xs font-data text-text-primary whitespace-pre-wrap",children:i})})]}),e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"AlertTriangle",size:20,className:"text-warning flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"font-medium text-warning-700",children:"Important Notes"}),e.jsxs("ul",{className:"text-sm text-warning-700 space-y-1",children:[e.jsx("li",{children:"• First row must contain column headers exactly as shown"}),e.jsx("li",{children:"• Latitude and longitude must be valid decimal coordinates"}),e.jsx("li",{children:"• Fuel prices are optional but recommended for better functionality"}),e.jsx("li",{children:"• File size limit: 10MB maximum"}),e.jsx("li",{children:"• Encoding: UTF-8 recommended"})]})]})]})}),e.jsx("div",{className:"flex justify-center pt-2",children:e.jsx(b,{variant:"outline",iconName:"Download",iconPosition:"left",onClick:()=>{const a=new Blob([i],{type:"text/csv"}),r=URL.createObjectURL(a),m=document.createElement("a");m.href=r,m.download="petrol_stations_template.csv",m.click(),URL.revokeObjectURL(r)},children:"Download Template"})})]})})]})})},Ve=({validationResults:s,onRetry:t})=>{if(!s)return null;const{isValid:n,errors:i,warnings:a,totalRows:r,validRows:m}=s,c=p=>{switch(p){case"error":return e.jsx(l,{name:"XCircle",size:16,className:"text-error"});case"warning":return e.jsx(l,{name:"AlertTriangle",size:16,className:"text-warning"});default:return e.jsx(l,{name:"Info",size:16,className:"text-secondary"})}},u=p=>{switch(p){case"error":return"border-error-200 bg-error-50";case"warning":return"border-warning-200 bg-warning-50";default:return"border-secondary-200 bg-secondary-50"}};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[e.jsx("div",{className:`
        rounded-xl border-2 p-6
        ${n?"border-success-200 bg-success-50":"border-error-200 bg-error-50"}
      `,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:n?e.jsx("div",{className:"p-2 bg-success rounded-full",children:e.jsx(l,{name:"CheckCircle",size:24,className:"text-white"})}):e.jsx("div",{className:"p-2 bg-error rounded-full",children:e.jsx(l,{name:"XCircle",size:24,className:"text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`
              text-lg font-heading font-semibold mb-2
              ${n?"text-success-700":"text-error-700"}
            `,children:n?"Validation Successful":"Validation Issues Found"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Total Rows:"}),e.jsx("span",{className:"ml-2 font-medium text-text-primary",children:r})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Valid Rows:"}),e.jsx("span",{className:"ml-2 font-medium text-success-600",children:m})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-medium text-error-600",children:(i==null?void 0:i.length)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Warnings:"}),e.jsx("span",{className:"ml-2 font-medium text-warning-600",children:(a==null?void 0:a.length)||0})]})]})]})]})}),((i==null?void 0:i.length)>0||(a==null?void 0:a.length)>0)&&e.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-border bg-surface-secondary",children:e.jsx("h4",{className:"font-heading font-semibold text-text-primary",children:"Validation Issues"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"divide-y divide-border",children:[i==null?void 0:i.map((p,o)=>e.jsx("div",{className:"p-4",children:e.jsx("div",{className:`
                    rounded-lg border p-3 ${u("error")}
                  `,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[c("error"),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-error-700",children:["Row ",p.row]}),e.jsx("span",{className:"text-xs text-error-600 bg-error-100 px-2 py-1 rounded",children:p.column})]}),e.jsx("p",{className:"text-sm text-error-700",children:p.message}),p.suggestion&&e.jsxs("p",{className:"text-xs text-error-600 mt-1",children:["Suggestion: ",p.suggestion]})]})]})})},`error-${o}`)),a==null?void 0:a.map((p,o)=>e.jsx("div",{className:"p-4",children:e.jsx("div",{className:`
                    rounded-lg border p-3 ${u("warning")}
                  `,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[c("warning"),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-warning-700",children:["Row ",p.row]}),e.jsx("span",{className:"text-xs text-warning-600 bg-warning-100 px-2 py-1 rounded",children:p.column})]}),e.jsx("p",{className:"text-sm text-warning-700",children:p.message}),p.suggestion&&e.jsxs("p",{className:"text-xs text-warning-600 mt-1",children:["Suggestion: ",p.suggestion]})]})]})})},`warning-${o}`))]})})]}),!n&&e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{variant:"outline",iconName:"RotateCcw",iconPosition:"left",onClick:t,children:"Try Another File"})})]})},He=({stations:s,onSelectionChange:t,onApplyToMap:n})=>{const[i,a]=j.useState(new Set(s.map(g=>g.id))),[r,m]=j.useState("station_name"),[c,u]=j.useState("asc"),p=g=>{a(g?new Set(s.map(x=>x.id)):new Set),t==null||t(g?s:[])},o=(g,x)=>{const h=new Set(i);x?h.add(g):h.delete(g),a(h);const f=s.filter(S=>h.has(S.id));t==null||t(f)},d=g=>{r===g?u(c==="asc"?"desc":"asc"):(m(g),u("asc"))},w=[...s].sort((g,x)=>{const h=g[r]||"",f=x[r]||"";return c==="asc"?h.toString().localeCompare(f.toString()):f.toString().localeCompare(h.toString())}),k=g=>r!==g?"ArrowUpDown":c==="asc"?"ArrowUp":"ArrowDown",y=g=>!g||g===""?"-":`$${parseFloat(g).toFixed(2)}`,C=i.size===s.length,P=i.size>0&&i.size<s.length;return e.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary",children:"Station Preview"}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[i.size," of ",s.length," stations selected"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"Download",iconPosition:"left",onClick:()=>{const g=s.filter(M=>i.has(M.id)),x=[Object.keys(g[0]||{}).join(","),...g.map(M=>Object.values(M).join(","))].join(`
`),h=new Blob([x],{type:"text/csv"}),f=URL.createObjectURL(h),S=document.createElement("a");S.href=f,S.download="selected_stations.csv",S.click(),URL.revokeObjectURL(f)},children:"Export Selected"}),e.jsxs(b,{variant:"primary",iconName:"Map",iconPosition:"left",onClick:()=>n(s.filter(g=>i.has(g.id))),disabled:i.size===0,children:["Apply to Map (",i.size,")"]})]})]}),e.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-surface-secondary border-b border-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:e.jsx("input",{type:"checkbox",checked:C,ref:g=>{g&&(g.indeterminate=P)},onChange:g=>p(g.target.checked),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"})}),e.jsx("th",{className:"p-3 text-left",children:e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>d("station_name"),className:"font-medium text-text-primary hover:text-primary",children:["Station Name",e.jsx(l,{name:k("station_name"),size:14,className:"ml-1"})]})}),e.jsx("th",{className:"p-3 text-left",children:e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>d("suburb"),className:"font-medium text-text-primary hover:text-primary",children:["Location",e.jsx(l,{name:k("suburb"),size:14,className:"ml-1"})]})}),e.jsx("th",{className:"p-3 text-left",children:e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>d("brand"),className:"font-medium text-text-primary hover:text-primary",children:["Brand",e.jsx(l,{name:k("brand"),size:14,className:"ml-1"})]})}),e.jsx("th",{className:"p-3 text-left font-medium text-text-primary",children:"Fuel Prices"}),e.jsx("th",{className:"p-3 text-left font-medium text-text-primary",children:"Coordinates"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:w.map((g,x)=>e.jsxs("tr",{className:`
                    hover:bg-surface-secondary transition-colors duration-200
                    ${i.has(g.id)?"bg-primary-50":""}
                  `,children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",checked:i.has(g.id),onChange:h=>o(g.id,h.target.checked),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:g.station_name}),e.jsx("div",{className:"text-xs text-text-muted",children:g.address})]})}),e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"text-text-primary",children:g.suburb}),e.jsx("div",{className:"text-xs text-text-muted",children:g.postcode})]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary-100 text-xs font-medium text-text-secondary",children:g.brand})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"space-y-1 text-xs",children:[g.unleaded_91&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"U91:"}),e.jsx("span",{className:"font-data text-text-primary",children:y(g.unleaded_91)})]}),g.premium_95&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"P95:"}),e.jsx("span",{className:"font-data text-text-primary",children:y(g.premium_95)})]}),g.diesel&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Diesel:"}),e.jsx("span",{className:"font-data text-text-primary",children:y(g.diesel)})]})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"text-xs font-data text-text-muted",children:[e.jsx("div",{children:parseFloat(g.latitude).toFixed(4)}),e.jsx("div",{children:parseFloat(g.longitude).toFixed(4)})]})})]},g.id||x))})]})})}),e.jsx("div",{className:"bg-surface-secondary rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-text-secondary",children:["Total Stations: ",e.jsx("span",{className:"font-medium text-text-primary",children:s.length})]}),e.jsxs("span",{className:"text-text-secondary",children:["Selected: ",e.jsx("span",{className:"font-medium text-primary",children:i.size})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-text-muted",children:[e.jsx(l,{name:"Info",size:14}),e.jsx("span",{children:"Click column headers to sort data"})]})]})})]})},We=()=>{const s=q(),[t,n]=j.useState("idle"),[i,a]=j.useState(0),[r,m]=j.useState(null),[c,u]=j.useState(null),[p,o]=j.useState([]),[d,w]=j.useState([]),[k,y]=j.useState(""),C=M=>{const N=[],v=[];let z=0;return M.forEach((D,U)=>{const T=U+2;if((!D.station_name||D.station_name.trim()==="")&&N.push({row:T,column:"station_name",message:"Station name is required",suggestion:"Provide a valid station name"}),!D.latitude||!D.longitude)N.push({row:T,column:"coordinates",message:"Latitude and longitude are required",suggestion:"Provide valid decimal coordinates"});else{const L=parseFloat(D.latitude),$=parseFloat(D.longitude);isNaN(L)||isNaN($)?N.push({row:T,column:"coordinates",message:"Invalid coordinate format",suggestion:"Use decimal format (e.g., -37.8136)"}):(L<-90||L>90||$<-180||$>180)&&N.push({row:T,column:"coordinates",message:"Coordinates out of valid range",suggestion:"Latitude: -90 to 90, Longitude: -180 to 180"})}["unleaded_91","premium_95","diesel"].forEach(L=>{if(D[L]&&D[L]!==""){const $=parseFloat(D[L]);isNaN($)||$<=0?v.push({row:T,column:L,message:`Invalid price format for ${L}`,suggestion:"Use decimal format (e.g., 1.65)"}):$>5&&v.push({row:T,column:L,message:`Unusually high price for ${L}`,suggestion:"Please verify the price is correct"})}}),N.filter(L=>L.row===T).length===0&&z++}),{isValid:N.length===0,errors:N,warnings:v,totalRows:M.length,validRows:z}},P=M=>{const N=M.split(`
`).filter(D=>D.trim()!=="");if(N.length<2)throw new Error("CSV must contain at least a header and one data row");const v=N[0].split(",").map(D=>D.trim()),z=[];for(let D=1;D<N.length;D++){const U=N[D].split(",").map(L=>L.trim()),T={};v.forEach((L,$)=>{T[L]=U[$]||""}),T.id=`station_${D}`,z.push(T)}return z},g=async M=>{if(M){if(!M.name.endsWith(".csv")&&M.type!=="text/csv"){y("Please select a valid CSV file"),n("error");return}if(M.size>10*1024*1024){y("File size must be less than 10MB"),n("error");return}m(M),n("uploading"),a(0),y("");try{const N=setInterval(()=>{a(U=>U>=90?(clearInterval(N),90):U+10)},200),v=await new Promise((U,T)=>{const L=new FileReader;L.onload=$=>U($.target.result),L.onerror=$=>T(new Error("Failed to read file")),L.readAsText(M)});a(95),n("validating");const z=P(v),D=C(z);a(100),u(D),o(z),w(z),n("success")}catch(N){y(N.message||"Failed to process file"),n("error")}}},x=()=>{n("idle"),m(null),u(null),o([]),w([]),y(""),a(0)},h=()=>{window.confirm("Are you sure you want to clear all uploaded data?")&&x()},f=M=>{localStorage.setItem("uploadedStations",JSON.stringify(M)),s("/map-dashboard",{state:{uploadedStations:M,message:`Successfully loaded ${M.length} stations to the map`}})},S=M=>{w(M)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(b,{variant:"ghost",size:"sm",iconName:"ArrowLeft",onClick:()=>s("/map-dashboard"),className:"lg:hidden",children:"Back"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-heading font-bold text-text-primary",children:"CSV Data Upload"}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Import petrol station data to display on the map"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:`
                flex items-center space-x-2 px-3 py-1 rounded-full
                ${t==="idle"||t==="uploading"?"bg-primary text-primary-foreground":"bg-success text-success-foreground"}
              `,children:[e.jsx(l,{name:"Upload",size:14}),e.jsx("span",{children:"Upload"})]}),e.jsx("div",{className:`
                w-8 h-0.5 
                ${t==="validating"||t==="success"?"bg-success":"bg-border"}
              `}),e.jsxs("div",{className:`
                flex items-center space-x-2 px-3 py-1 rounded-full
                ${t==="validating"?"bg-primary text-primary-foreground":t==="success"?"bg-success text-success-foreground":"bg-secondary-200 text-text-muted"}
              `,children:[e.jsx(l,{name:"CheckCircle",size:14}),e.jsx("span",{children:"Validate"})]}),e.jsx("div",{className:`
                w-8 h-0.5 
                ${t==="success"?"bg-success":"bg-border"}
              `}),e.jsxs("div",{className:`
                flex items-center space-x-2 px-3 py-1 rounded-full
                ${t==="success"?"bg-primary text-primary-foreground":"bg-secondary-200 text-text-muted"}
              `,children:[e.jsx(l,{name:"Map",size:14}),e.jsx("span",{children:"Apply"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[(t==="idle"||t==="uploading"||t==="validating")&&e.jsx(Ie,{onFileSelect:g,isUploading:t==="uploading"||t==="validating",uploadProgress:i}),t==="idle"&&e.jsx(Oe,{}),t==="error"&&e.jsx("div",{className:"w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-error-50 border border-error-200 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-error rounded-full",children:e.jsx(l,{name:"AlertCircle",size:32,className:"text-white"})})}),e.jsx("h3",{className:"text-lg font-heading font-semibold text-error-700 mb-2",children:"Upload Failed"}),e.jsx("p",{className:"text-error-600 mb-4",children:k}),e.jsx(b,{variant:"outline",iconName:"RotateCcw",iconPosition:"left",onClick:x,children:"Try Again"})]})}),t==="success"&&c&&e.jsx(Ve,{validationResults:c,onRetry:x}),t==="success"&&(c==null?void 0:c.isValid)&&p.length>0&&e.jsx(He,{stations:p,onSelectionChange:S,onApplyToMap:f}),t==="success"&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-4 pt-4",children:[e.jsx(b,{variant:"outline",iconName:"Trash2",iconPosition:"left",onClick:h,children:"Clear Data"}),e.jsx(b,{variant:"secondary",iconName:"Upload",iconPosition:"left",onClick:x,children:"Upload Another File"}),(c==null?void 0:c.isValid)&&d.length>0&&e.jsxs(b,{variant:"primary",iconName:"Map",iconPosition:"left",onClick:()=>f(d),children:["Apply ",d.length," Stations to Map"]})]})]})]})})]})};function _e({src:s,alt:t="Image Name",className:n="",...i}){return e.jsx("img",{src:s,alt:t,className:n,onError:a=>{a.target.src="/assets/images/no_image.png"},...i})}const qe=({station:s,onClose:t})=>{const n=i=>({Shell:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=100&h=100&fit=crop",BP:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=100&h=100&fit=crop",Caltex:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=100&h=100&fit=crop","7-Eleven":"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=100&h=100&fit=crop",Mobil:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=100&h=100&fit=crop",United:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=100&h=100&fit=crop"})[i]||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=100&h=100&fit=crop";return e.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-border bg-surface",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 rounded-lg overflow-hidden bg-surface-secondary flex-shrink-0",children:e.jsx(_e,{src:n(s.brand),alt:`${s.brand} logo`,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-lg lg:text-xl font-heading font-semibold text-text-primary truncate",children:s.name}),e.jsxs("p",{className:"text-sm text-text-secondary truncate",children:[s.brand," • ",s.distance," km away"]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(l,{name:"MapPin",size:14,className:"text-text-muted"}),e.jsxs("p",{className:"text-xs text-text-muted truncate",children:[s.address,", ",s.suburb," ",s.postcode]})]})]})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-surface-secondary rounded-lg transition-colors duration-200 flex-shrink-0","aria-label":"Close modal",children:e.jsx(l,{name:"X",size:20,className:"text-text-muted"})})]})},Ge=({fuelPrices:s})=>{const t=i=>{const a=parseInt(i.split(" ")[0]);return a<=2?"text-success":a<=6?"text-warning":"text-error"},n=i=>{const a=parseInt(i.split(" ")[0]);return a<=2?"CheckCircle":a<=6?"Clock":"AlertCircle"};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary",children:"Current Fuel Prices"}),e.jsxs("button",{className:"flex items-center space-x-1 text-sm text-primary hover:text-primary-700 transition-colors duration-200",children:[e.jsx(l,{name:"RefreshCw",size:16}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.map((i,a)=>e.jsxs("div",{className:"p-4 bg-surface-secondary rounded-lg border border-border hover:shadow-elevation-2 transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-text-primary",children:i.type}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(l,{name:n(i.lastUpdated),size:12,className:t(i.lastUpdated)}),e.jsxs("span",{className:`text-xs ${t(i.lastUpdated)}`,children:["Updated ",i.lastUpdated]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl lg:text-2xl font-data font-bold text-primary",children:["$",i.price.toFixed(2)]}),e.jsx("p",{className:"text-xs text-text-muted",children:"per litre"})]})]}),i.trend&&e.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[e.jsx(l,{name:i.trend==="up"?"TrendingUp":"TrendingDown",size:14,className:i.trend==="up"?"text-error":"text-success"}),e.jsxs("span",{className:`text-xs ${i.trend==="up"?"text-error":"text-success"}`,children:[i.trend==="up"?"+":"-","$0.0",Math.floor(Math.random()*9)+1," from yesterday"]})]})]},a))}),e.jsx("div",{className:"p-3 bg-accent-50 rounded-lg border border-accent-200",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"TrendingDown",size:16,className:"text-accent mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-accent-700",children:"Best Price in Area"}),e.jsx("p",{className:"text-xs text-accent-600 mt-1",children:"Save up to $0.15/L compared to nearby stations"})]})]})})]})},Ye=({station:s})=>{const[t,n]=j.useState(null),i=c=>{n(t===c?null:c)},a=s.amenities||["24/7 Open","Car Wash","Convenience Store","ATM","Restrooms","Air & Water"],r=s.operatingHours||{Monday:"6:00 AM - 10:00 PM",Tuesday:"6:00 AM - 10:00 PM",Wednesday:"6:00 AM - 10:00 PM",Thursday:"6:00 AM - 10:00 PM",Friday:"6:00 AM - 11:00 PM",Saturday:"7:00 AM - 11:00 PM",Sunday:"7:00 AM - 9:00 PM"},m={phone:s.phone||"(03) 9123 4567",website:s.website||"www.example.com",email:s.email||"info@station.com.au"};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"MapPin",size:18,className:"text-text-muted mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-text-primary",children:s.address}),e.jsxs("p",{className:"text-xs text-text-secondary",children:[s.suburb,", VIC ",s.postcode]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Navigation",size:18,className:"text-text-muted flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-text-primary",children:[s.distance," km away"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-3",children:"Available Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,u)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-secondary-100 text-xs font-medium text-text-secondary",children:c},u))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"border border-border rounded-lg",children:[e.jsxs("button",{onClick:()=>i("hours"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Clock",size:18,className:"text-text-muted"}),e.jsx("span",{className:"font-medium text-text-primary",children:"Operating Hours"})]}),e.jsx(l,{name:t==="hours"?"ChevronUp":"ChevronDown",size:18,className:"text-text-muted"})]}),t==="hours"&&e.jsx("div",{className:"px-4 pb-4 border-t border-border",children:e.jsx("div",{className:"space-y-2 mt-3",children:Object.entries(r).map(([c,u])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:c}),e.jsx("span",{className:"text-sm font-medium text-text-primary",children:u})]},c))})})]}),e.jsxs("div",{className:"border border-border rounded-lg",children:[e.jsxs("button",{onClick:()=>i("contact"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Phone",size:18,className:"text-text-muted"}),e.jsx("span",{className:"font-medium text-text-primary",children:"Contact Information"})]}),e.jsx(l,{name:t==="contact"?"ChevronUp":"ChevronDown",size:18,className:"text-text-muted"})]}),t==="contact"&&e.jsx("div",{className:"px-4 pb-4 border-t border-border",children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Phone",size:16,className:"text-text-muted"}),e.jsx("a",{href:`tel:${m.phone}`,className:"text-sm text-primary hover:text-primary-700 transition-colors duration-200",children:m.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Globe",size:16,className:"text-text-muted"}),e.jsx("a",{href:`https://${m.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:text-primary-700 transition-colors duration-200",children:m.website})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Mail",size:16,className:"text-text-muted"}),e.jsx("a",{href:`mailto:${m.email}`,className:"text-sm text-primary hover:text-primary-700 transition-colors duration-200",children:m.email})]})]})})]})]})]})},Qe=({fuelType:s="Unleaded 91"})=>{var c,u;const t=[{date:"15/11",price:1.68,day:"Mon"},{date:"16/11",price:1.65,day:"Tue"},{date:"17/11",price:1.63,day:"Wed"},{date:"18/11",price:1.67,day:"Thu"},{date:"19/11",price:1.64,day:"Fri"},{date:"20/11",price:1.62,day:"Sat"},{date:"21/11",price:1.65,day:"Sun"},{date:"22/11",price:1.61,day:"Mon"},{date:"23/11",price:1.59,day:"Tue"},{date:"24/11",price:1.63,day:"Wed"},{date:"25/11",price:1.65,day:"Thu"},{date:"26/11",price:1.62,day:"Fri"},{date:"27/11",price:1.58,day:"Sat"},{date:"28/11",price:1.61,day:"Sun"}],n=((c=t[t.length-1])==null?void 0:c.price)||1.61,i=((u=t[t.length-2])==null?void 0:u.price)||1.58,a=n-i,r=(a/i*100).toFixed(1),m=({active:p,payload:o,label:d})=>{if(p&&o&&o.length){const w=o[0].payload;return e.jsxs("div",{className:"bg-surface border border-border rounded-lg p-3 shadow-elevation-2",children:[e.jsxs("p",{className:"text-sm font-medium text-text-primary",children:[w.day,", ",d]}),e.jsxs("p",{className:"text-lg font-data font-semibold text-primary",children:["$",o[0].value.toFixed(2)]}),e.jsx("p",{className:"text-xs text-text-muted",children:"per litre"})]})}return null};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary",children:"Price History"}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[s," - Last 14 days"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:a>=0?"TrendingUp":"TrendingDown",size:16,className:a>=0?"text-error":"text-success"}),e.jsxs("span",{className:`text-sm font-medium ${a>=0?"text-error":"text-success"}`,children:[a>=0?"+":"","$",Math.abs(a).toFixed(2)," (",r,"%)"]})]}),e.jsx("p",{className:"text-xs text-text-muted",children:"vs yesterday"})]})]}),e.jsx("div",{className:"bg-surface-secondary rounded-lg p-4",children:e.jsx("div",{className:"h-64 w-full",children:e.jsx(fe,{width:"100%",height:"100%",children:e.jsxs(je,{data:t,margin:{top:5,right:5,left:5,bottom:5},children:[e.jsx(be,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(ge,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-text-muted)"}}),e.jsx(ye,{domain:["dataMin - 0.05","dataMax + 0.05"],axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-text-muted)"},tickFormatter:p=>`$${p.toFixed(2)}`}),e.jsx(ve,{content:e.jsx(m,{})}),e.jsx(Ne,{type:"monotone",dataKey:"price",stroke:"var(--color-primary)",strokeWidth:3,dot:{fill:"var(--color-primary)",strokeWidth:2,r:4},activeDot:{r:6,stroke:"var(--color-primary)",strokeWidth:2,fill:"var(--color-surface)"}})]})})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Lowest (14 days)"}),e.jsx("p",{className:"text-lg font-data font-semibold text-success",children:"$1.58"})]}),e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Highest (14 days)"}),e.jsx("p",{className:"text-lg font-data font-semibold text-error",children:"$1.68"})]}),e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Average"}),e.jsx("p",{className:"text-lg font-data font-semibold text-text-primary",children:"$1.63"})]})]})]})},Xe=({station:s,onClose:t})=>{const[n,i]=j.useState(!1),[a,r]=j.useState(!1),[m,c]=j.useState(!1),u=()=>{const y=`https://www.google.com/maps/dir/?api=1&destination=${s.latitude},${s.longitude}`;window.open(y,"_blank")},p=()=>{s.phone&&(window.location.href=`tel:${s.phone}`)},o=()=>{i(!n)},d=()=>{console.log("Report price for station:",s.id)},w=y=>{const C=`Check out ${s.name} - ${s.address}`,P=window.location.href;switch(y){case"copy":navigator.clipboard.writeText(P);break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(C+" "+P)}`);break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(P)}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(C)}&url=${encodeURIComponent(P)}`);break}r(!1)},k=()=>{c(!m)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(b,{variant:"primary",iconName:"Navigation",iconPosition:"left",onClick:u,fullWidth:!0,children:"Get Directions"}),e.jsx(b,{variant:"secondary",iconName:"Phone",iconPosition:"left",onClick:p,fullWidth:!0,disabled:!s.phone,children:"Call Station"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[e.jsx(b,{variant:n?"success":"outline",iconName:"Heart",iconPosition:"left",onClick:o,size:"sm",fullWidth:!0,children:n?"Saved":"Save"}),e.jsx(b,{variant:"outline",iconName:"AlertCircle",iconPosition:"left",onClick:k,size:"sm",fullWidth:!0,children:"Alert"}),e.jsx(b,{variant:"outline",iconName:"Flag",iconPosition:"left",onClick:d,size:"sm",fullWidth:!0,children:"Report"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{variant:"outline",iconName:"Share",iconPosition:"left",onClick:()=>r(!a),size:"sm",fullWidth:!0,children:"Share"}),a&&e.jsx("div",{className:"absolute bottom-full mb-2 left-0 right-0 bg-surface border border-border rounded-lg shadow-elevation-3 z-dropdown animate-fade-in",children:e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsxs("button",{onClick:()=>w("copy"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-primary hover:bg-surface-secondary rounded-md transition-colors duration-200",children:[e.jsx(l,{name:"Copy",size:16}),e.jsx("span",{children:"Copy Link"})]}),e.jsxs("button",{onClick:()=>w("whatsapp"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-primary hover:bg-surface-secondary rounded-md transition-colors duration-200",children:[e.jsx(l,{name:"MessageCircle",size:16}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs("button",{onClick:()=>w("facebook"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-primary hover:bg-surface-secondary rounded-md transition-colors duration-200",children:[e.jsx(l,{name:"Facebook",size:16}),e.jsx("span",{children:"Facebook"})]}),e.jsxs("button",{onClick:()=>w("twitter"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-primary hover:bg-surface-secondary rounded-md transition-colors duration-200",children:[e.jsx(l,{name:"Twitter",size:16}),e.jsx("span",{children:"Twitter"})]})]})})]})]}),m&&e.jsx("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg animate-fade-in",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"Bell",size:18,className:"text-primary mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-primary-800 mb-2",children:"Set Price Alert"}),e.jsx("p",{className:"text-xs text-primary-700 mb-3",children:"Get notified when fuel prices drop below your target price."}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",placeholder:"1.50",className:"w-20 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-1 focus:ring-primary focus:border-primary"}),e.jsx("span",{className:"text-xs text-primary-700",children:"AUD per litre"}),e.jsx(b,{variant:"primary",size:"xs",children:"Set Alert"})]})]})]})}),e.jsx("div",{className:"sm:hidden pt-4 border-t border-border",children:e.jsx(b,{variant:"ghost",onClick:t,fullWidth:!0,children:"Close"})})]})},Ke=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-secondary-200 rounded-lg"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-5 bg-secondary-200 rounded w-48"}),e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-32"}),e.jsx("div",{className:"h-3 bg-secondary-200 rounded w-56"})]})]}),e.jsx("div",{className:"w-8 h-8 bg-secondary-200 rounded-lg"})]}),e.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-6 bg-secondary-200 rounded w-40"}),e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-20"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[1,2,3,4].map(s=>e.jsx("div",{className:"p-4 bg-surface-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-24"}),e.jsx("div",{className:"h-3 bg-secondary-200 rounded w-32"})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"h-6 bg-secondary-200 rounded w-16"}),e.jsx("div",{className:"h-3 bg-secondary-200 rounded w-12"})]})]})},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-secondary-200 rounded mt-1"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-64"}),e.jsx("div",{className:"h-3 bg-secondary-200 rounded w-48"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-secondary-200 rounded"}),e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-32"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-5 bg-secondary-200 rounded w-32 mb-3"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(s=>e.jsx("div",{className:"h-6 bg-secondary-200 rounded-full w-20"},s))})]}),e.jsx("div",{className:"space-y-2",children:[1,2].map(s=>e.jsx("div",{className:"border border-border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-secondary-200 rounded"}),e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-32"})]}),e.jsx("div",{className:"w-4 h-4 bg-secondary-200 rounded"})]})},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-6 bg-secondary-200 rounded w-32"}),e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-48"})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"h-4 bg-secondary-200 rounded w-24"}),e.jsx("div",{className:"h-3 bg-secondary-200 rounded w-20"})]})]}),e.jsx("div",{className:"bg-surface-secondary rounded-lg p-4",children:e.jsx("div",{className:"h-64 bg-secondary-200 rounded"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("div",{className:"h-10 bg-secondary-200 rounded-lg"}),e.jsx("div",{className:"h-10 bg-secondary-200 rounded-lg"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-8 bg-secondary-200 rounded-lg"},s))})]})]})]}),Ze=({onRetry:s,onClose:t,errorType:n="general"})=>{const a=(()=>{switch(n){case"network":return{icon:"Wifi",title:"Connection Error",message:"Unable to load station details. Please check your internet connection and try again.",actionText:"Retry"};case"notFound":return{icon:"MapPin",title:"Station Not Found",message:"The requested station could not be found. It may have been removed or is temporarily unavailable.",actionText:"Go Back"};case"priceData":return{icon:"DollarSign",title:"Price Data Unavailable",message:"Current fuel prices are not available for this station. You can still view basic information and get directions.",actionText:"Continue Anyway"};default:return{icon:"AlertCircle",title:"Something Went Wrong",message:"We encountered an error while loading the station details. Please try again or contact support if the problem persists.",actionText:"Try Again"}}})();return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-error-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(l,{name:a.icon,size:32,className:"text-error"})}),e.jsx("h2",{className:"text-xl font-heading font-semibold text-text-primary mb-2",children:a.title}),e.jsx("p",{className:"text-text-secondary mb-6 max-w-md leading-relaxed",children:a.message}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs",children:[e.jsx(b,{variant:"primary",iconName:"RefreshCw",iconPosition:"left",onClick:s,fullWidth:!0,children:a.actionText}),e.jsx(b,{variant:"outline",onClick:t,fullWidth:!0,children:"Close"})]}),e.jsxs("div",{className:"mt-8 p-4 bg-surface-secondary rounded-lg max-w-md",children:[e.jsx("h3",{className:"text-sm font-medium text-text-primary mb-2",children:"Need Help?"}),e.jsxs("div",{className:"space-y-2 text-xs text-text-secondary",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"MessageCircle",size:14}),e.jsx("span",{children:"Report missing or incorrect station data"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Mail",size:14}),e.jsx("span",{children:"Contact support: help@melbournefuelfinder.com.au"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Phone",size:14}),e.jsx("span",{children:"Call: 1800 FUEL HELP"})]})]})]})]})},Je=()=>{const{stationId:s}=le(),t=q(),[n,i]=j.useState(null),[a,r]=j.useState(!0),[m,c]=j.useState(null),[u,p]=j.useState("Unleaded 91"),o={id:s||"1",name:"Shell Coles Express Melbourne Central",brand:"Shell",address:"211 La Trobe Street",suburb:"Melbourne",postcode:"3000",distance:"2.3",latitude:-37.8136,longitude:144.9631,phone:"(03) 9663 2847",website:"shell.com.au",email:"melbourne.central@shell.com.au",fuelPrices:[{type:"Unleaded 91",price:1.61,lastUpdated:"2 hours ago",trend:"down"},{type:"Premium 95",price:1.75,lastUpdated:"2 hours ago",trend:"up"},{type:"Premium 98",price:1.89,lastUpdated:"3 hours ago",trend:"down"},{type:"Diesel",price:1.58,lastUpdated:"1 hour ago",trend:"down"},{type:"E10",price:1.59,lastUpdated:"2 hours ago",trend:"up"},{type:"LPG",price:.89,lastUpdated:"4 hours ago",trend:"down"}],amenities:["24/7 Open","Car Wash","Convenience Store","ATM","Restrooms","Air & Water","Loyalty Program","Pay at Pump"],operatingHours:{Monday:"24 Hours",Tuesday:"24 Hours",Wednesday:"24 Hours",Thursday:"24 Hours",Friday:"24 Hours",Saturday:"24 Hours",Sunday:"24 Hours"}};j.useEffect(()=>{(async()=>{r(!0),c(null);try{if(await new Promise(y=>setTimeout(y,1500)),Math.random()<.1)throw new Error("Network error");i(o)}catch(y){c(y.message)}finally{r(!1)}})()},[s]);const d=()=>{t("/map-dashboard")},w=()=>{c(null),r(!0),window.location.reload()};return j.useEffect(()=>{let k=0,y=0,C=!1;const P=f=>{k=f.touches[0].clientY,C=!0},g=f=>{if(!C)return;y=f.touches[0].clientY;const S=y-k;if(S>0){const M=document.getElementById("station-modal");M&&(M.style.transform=`translateY(${Math.min(S,100)}px)`,M.style.opacity=Math.max(1-S/200,.5))}},x=()=>{if(!C)return;C=!1;const f=y-k,S=document.getElementById("station-modal");S&&(f>100?d():(S.style.transform="translateY(0)",S.style.opacity="1"))},h=document.getElementById("station-modal");return h&&(h.addEventListener("touchstart",P),h.addEventListener("touchmove",g),h.addEventListener("touchend",x)),()=>{h&&(h.removeEventListener("touchstart",P),h.removeEventListener("touchmove",g),h.removeEventListener("touchend",x))}},[]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-modal-backdrop lg:hidden",onClick:d}),e.jsx("div",{className:"fixed inset-0 z-modal pt-16 lg:pt-20",children:e.jsx("div",{className:"flex items-end lg:items-center justify-center min-h-full p-0 lg:p-4",children:e.jsx("div",{id:"station-modal",className:`
              relative w-full lg:w-full lg:max-w-4xl xl:max-w-5xl
              bg-surface lg:rounded-xl shadow-elevation-4 
              transform transition-all duration-300 ease-out
              animate-slide-up lg:animate-fade-in
              max-h-full lg:max-h-[90vh] overflow-hidden
              flex flex-col
            `,children:a?e.jsx(Ke,{}):m?e.jsx(Ze,{onRetry:w,onClose:d,errorType:m.includes("Network")?"network":"general"}):n?e.jsxs(e.Fragment,{children:[e.jsx(qe,{station:n,onClose:d}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-4 lg:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[e.jsx(Ge,{fuelPrices:n.fuelPrices}),e.jsx(Qe,{fuelType:u}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.fuelPrices.map(k=>e.jsx("button",{onClick:()=>p(k.type),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 ${u===k.type?"bg-primary text-primary-foreground":"bg-surface-secondary text-text-secondary hover:bg-secondary-200"}`,children:k.type},k.type))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ye,{station:n}),e.jsx(Xe,{station:n,onClose:d})]})]})})}),e.jsx("div",{className:"lg:hidden flex justify-center py-2 bg-surface-secondary",children:e.jsx("div",{className:"w-12 h-1 bg-secondary-300 rounded-full"})})]}):null})})})]})},W=({title:s,icon:t,children:n,isExpanded:i,onToggle:a,className:r=""})=>e.jsxs("div",{className:`bg-surface border border-border rounded-lg shadow-elevation-1 ${r}`,children:[e.jsxs("button",{onClick:a,className:"w-full flex items-center justify-between p-4 lg:p-6 text-left hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 rounded-lg",children:e.jsx(l,{name:t,size:18,className:"text-primary"})}),e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary",children:s})]}),e.jsx(l,{name:i?"ChevronUp":"ChevronDown",size:20,className:"text-text-muted"})]}),i&&e.jsx("div",{className:"px-4 pb-4 lg:px-6 lg:pb-6 border-t border-border animate-fade-in",children:e.jsx("div",{className:"pt-4 space-y-4",children:n})})]}),es=()=>{const[s,t]=j.useState(!1),[n,i]=j.useState(!1),[a,r]=j.useState(!1),m=[{id:1,filename:"melbourne_stations_2024.csv",uploadDate:"15/01/2024",recordCount:1247,status:"active"},{id:2,filename:"fuel_prices_update.csv",uploadDate:"12/01/2024",recordCount:856,status:"archived"},{id:3,filename:"station_locations.csv",uploadDate:"08/01/2024",recordCount:1103,status:"archived"}],c=()=>{console.log("Clearing all station data..."),t(!1)},u=async()=>{r(!0),setTimeout(()=>{console.log("Exporting filtered results..."),r(!1),i(!1)},2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Upload History"}),e.jsx("div",{className:"space-y-3",children:m.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-surface-secondary rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary-100 rounded-lg",children:e.jsx(l,{name:"FileText",size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:p.filename}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[p.recordCount," records • Uploaded ",p.uploadDate]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`
                  inline-flex items-center px-2 py-1 rounded-md text-xs font-medium
                  ${p.status==="active"?"bg-success-100 text-success-700":"bg-secondary-100 text-secondary-700"}
                `,children:p.status==="active"?"Active":"Archived"}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"MoreVertical",className:"p-2"})]})]},p.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Data Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(b,{variant:"outline",iconName:"Download",iconPosition:"left",onClick:()=>i(!0),className:"justify-start p-4 h-auto",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Export Data"}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Download filtered results as CSV"})]})}),e.jsx(b,{variant:"outline",iconName:"Trash2",iconPosition:"left",onClick:()=>t(!0),className:"justify-start p-4 h-auto text-error hover:text-error hover:border-error",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Clear Data"}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Remove all uploaded stations"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Storage Usage"}),e.jsxs("div",{className:"p-4 bg-surface-secondary rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Data Storage"}),e.jsx("span",{className:"text-sm font-medium text-text-primary",children:"2.4 MB / 50 MB"})]}),e.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"4.8%"}})}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"47.6 MB remaining storage available"})]})]}),e.jsx(_,{isOpen:s,onClose:()=>t(!1),title:"Clear All Data",footer:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(b,{variant:"danger",onClick:c,children:"Clear Data"})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"AlertTriangle",size:24,className:"text-warning mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-text-primary font-medium mb-2",children:"This action cannot be undone"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"All uploaded station data, price information, and custom settings will be permanently removed. You will need to re-upload your CSV files to continue using the application."})]})]}),e.jsxs("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-warning-700",children:e.jsx("strong",{children:"What will be cleared:"})}),e.jsxs("ul",{className:"text-sm text-warning-700 mt-1 ml-4 list-disc",children:[e.jsx("li",{children:"All station location data"}),e.jsx("li",{children:"Fuel price information"}),e.jsx("li",{children:"Upload history"}),e.jsx("li",{children:"Saved filters and preferences"})]})]})]})}),e.jsx(_,{isOpen:n,onClose:()=>i(!1),title:"Export Data",footer:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(b,{variant:"primary",onClick:u,loading:a,disabled:a,children:a?"Exporting...":"Export CSV"})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-text-secondary",children:"Export your current station data and applied filters to a CSV file for backup or external use."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Total Stations"}),e.jsx("span",{className:"font-medium text-text-primary",children:"1,247"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Filtered Results"}),e.jsx("span",{className:"font-medium text-text-primary",children:"324"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"File Size (Est.)"}),e.jsx("span",{className:"font-medium text-text-primary",children:"~45 KB"})]})]}),e.jsx("div",{className:"bg-accent-50 border border-accent-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-accent-700",children:"The exported file will include station names, addresses, coordinates, fuel types, and current pricing information based on your active filters."})})]})})]})},B=({id:s,label:t,description:n,checked:i,onChange:a,disabled:r=!1,className:m=""})=>e.jsxs("div",{className:`flex items-start justify-between ${m}`,children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-text-primary cursor-pointer",children:t}),n&&e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:n})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",id:s,checked:i,onChange:a,disabled:r,className:"sr-only"}),e.jsx("button",{type:"button",onClick:()=>!r&&a(!i),disabled:r,className:`
            relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out
            ${i?"bg-primary":"bg-secondary-300"}
            ${r?"opacity-50 cursor-not-allowed":"cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}
          `,children:e.jsx("span",{className:`
              inline-block h-4 w-4 transform rounded-full bg-white shadow-elevation-1 transition-transform duration-200 ease-in-out
              ${i?"translate-x-6":"translate-x-1"}
            `})})]})]}),ss=({preferences:s,onPreferenceChange:t})=>{const n=[{value:"unleaded",label:"Unleaded 91"},{value:"premium",label:"Premium 95"},{value:"premium98",label:"Premium 98"},{value:"diesel",label:"Diesel"},{value:"e10",label:"E10"}],i=[{value:"metric",label:"Metric (km, litres)"},{value:"imperial",label:"Imperial (miles, gallons)"}],a=[{value:"15",label:"Every 15 minutes"},{value:"30",label:"Every 30 minutes"},{value:"60",label:"Every hour"},{value:"180",label:"Every 3 hours"},{value:"manual",label:"Manual only"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Default Fuel Type"}),e.jsx("select",{value:s.defaultFuelType,onChange:r=>t("defaultFuelType",r.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:n.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"This fuel type will be selected by default when searching"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Measurement Units"}),e.jsx("select",{value:s.measurementUnits,onChange:r=>t("measurementUnits",r.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:i.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Price Alert Threshold"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{type:"number",step:"0.01",min:"0",max:"5",value:s.priceAlertThreshold,onChange:r=>t("priceAlertThreshold",parseFloat(r.target.value)),className:"flex-1",placeholder:"1.50"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"AUD per litre"})]}),e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"Get notified when fuel prices drop below this amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Price Update Frequency"}),e.jsx("select",{value:s.refreshInterval,onChange:r=>t("refreshInterval",r.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:a.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"How often to check for updated fuel prices"})]}),e.jsx(B,{id:"locationSharing",label:"Location Sharing",description:"Allow the app to access your location for nearby station recommendations",checked:s.locationSharing,onChange:r=>t("locationSharing",r)}),e.jsx(B,{id:"autoSaveSearches",label:"Auto-Save Searches",description:"Automatically save your search filters and preferences",checked:s.autoSaveSearches,onChange:r=>t("autoSaveSearches",r)}),e.jsx(B,{id:"showPriceTrends",label:"Show Price Trends",description:"Display price history and trend indicators on station details",checked:s.showPriceTrends,onChange:r=>t("showPriceTrends",r)})]})},ts=({displaySettings:s,onDisplaySettingChange:t})=>{const n=[{value:"standard",label:"Standard",description:"Clean, minimal map design"},{value:"satellite",label:"Satellite",description:"Aerial imagery view"},{value:"terrain",label:"Terrain",description:"Topographical features"},{value:"dark",label:"Dark Mode",description:"Dark theme for night use"}],i=[{value:"decimal",label:"$1.65",description:"Standard decimal format"},{value:"cents",label:"165¢",description:"Cents per litre"},{value:"rounded",label:"$1.70",description:"Rounded to nearest 5 cents"}],a=[{value:"auto",label:"Automatic",description:"Smart clustering based on zoom level"},{value:"always",label:"Always Cluster",description:"Group nearby stations at all zoom levels"},{value:"never",label:"Never Cluster",description:"Show individual markers always"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:"Map Theme"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(r=>e.jsxs("label",{className:`
                relative flex items-start p-3 border rounded-lg cursor-pointer transition-all duration-200
                ${s.mapTheme===r.value?"border-primary bg-primary-50":"border-border bg-surface hover:bg-surface-secondary"}
              `,children:[e.jsx("input",{type:"radio",name:"mapTheme",value:r.value,checked:s.mapTheme===r.value,onChange:m=>t("mapTheme",m.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`
                    w-4 h-4 rounded-full border-2 transition-colors duration-200
                    ${s.mapTheme===r.value?"border-primary bg-primary":"border-secondary-300"}
                  `,children:s.mapTheme===r.value&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),e.jsx("span",{className:"font-medium text-text-primary",children:r.label})]}),e.jsx("p",{className:"text-xs text-text-secondary mt-1 ml-6",children:r.description})]})]},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:"Price Display Format"}),e.jsx("div",{className:"space-y-2",children:i.map(r=>e.jsx("label",{className:`
                flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-all duration-200
                ${s.priceFormat===r.value?"border-primary bg-primary-50":"border-border bg-surface hover:bg-surface-secondary"}
              `,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",name:"priceFormat",value:r.value,checked:s.priceFormat===r.value,onChange:m=>t("priceFormat",m.target.value),className:"w-4 h-4 text-primary border-secondary-300 focus:ring-primary"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-text-primary",children:r.label}),e.jsx("p",{className:"text-xs text-text-secondary",children:r.description})]})]})},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Marker Clustering"}),e.jsx("select",{value:s.markerClustering,onChange:r=>t("markerClustering",r.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200",children:a.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"Control how station markers are grouped on the map"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Display Options"}),e.jsx(B,{id:"showPriceLabels",label:"Show Price Labels",description:"Display fuel prices directly on map markers",checked:s.showPriceLabels,onChange:r=>t("showPriceLabels",r)}),e.jsx(B,{id:"showDistanceLabels",label:"Show Distance Labels",description:"Display distance from your location on station cards",checked:s.showDistanceLabels,onChange:r=>t("showDistanceLabels",r)}),e.jsx(B,{id:"highlightCheapest",label:"Highlight Cheapest Stations",description:"Use special markers for stations with lowest prices",checked:s.highlightCheapest,onChange:r=>t("highlightCheapest",r)}),e.jsx(B,{id:"showOpenOnly",label:"Show Open Stations Only",description:"Hide stations that are currently closed",checked:s.showOpenOnly,onChange:r=>t("showOpenOnly",r)}),e.jsx(B,{id:"compactView",label:"Compact Station List",description:"Use smaller cards in the station list view",checked:s.compactView,onChange:r=>t("compactView",r)})]})]})},as=({notifications:s,onNotificationChange:t})=>{const n=[{id:"priceDrops",label:"Price Drop Alerts",description:"Get notified when fuel prices drop below your threshold",icon:"TrendingDown"},{id:"newStations",label:"New Station Alerts",description:"Be informed when new fuel stations are added to your area",icon:"MapPin"},{id:"priceUpdates",label:"Price Update Notifications",description:"Receive updates when station prices are refreshed",icon:"RefreshCw"},{id:"maintenanceAlerts",label:"Maintenance Notifications",description:"Get notified about app updates and maintenance schedules",icon:"Settings"}],i=[{value:"realtime",label:"Real-time"},{value:"hourly",label:"Hourly digest"},{value:"daily",label:"Daily summary"},{value:"weekly",label:"Weekly report"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[e.jsx(B,{id:"pushNotifications",label:"Enable Push Notifications",description:"Allow the app to send notifications to your device",checked:s.pushEnabled,onChange:a=>t("pushEnabled",a)}),!s.pushEnabled&&e.jsxs("div",{className:"mt-3 flex items-start space-x-2",children:[e.jsx(l,{name:"Info",size:16,className:"text-primary mt-0.5"}),e.jsx("p",{className:"text-sm text-primary-700",children:"Enable push notifications to receive real-time alerts about fuel prices and station updates."})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-4",children:"Notification Types"}),e.jsx("div",{className:"space-y-4",children:n.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-surface-secondary rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 rounded-lg mt-1",children:e.jsx(l,{name:a.icon,size:16,className:"text-primary"})}),e.jsx("div",{className:"flex-1",children:e.jsx(B,{id:a.id,label:a.label,description:a.description,checked:s[a.id],onChange:r=>t(a.id,r),disabled:!s.pushEnabled})})]},a.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Notification Frequency"}),e.jsx("select",{value:s.updateFrequency,onChange:a=>t("updateFrequency",a.target.value),disabled:!s.pushEnabled,className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"How often you want to receive notification updates"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"Quiet Hours"}),e.jsx(B,{id:"quietHours",label:"Enable Quiet Hours",description:"Pause notifications during specified hours",checked:s.quietHours,onChange:a=>t("quietHours",a),disabled:!s.pushEnabled}),s.quietHours&&s.pushEnabled&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:s.quietStart,onChange:a=>t("quietStart",a.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:s.quietEnd,onChange:a=>t("quietEnd",a.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-surface text-text-primary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200"})]})]})]}),e.jsx("div",{className:"p-4 bg-secondary-50 border border-secondary-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"Shield",size:20,className:"text-secondary-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-text-primary mb-1",children:"Privacy & Notifications"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"We only send notifications for the alerts you've enabled. Your notification preferences are stored locally and can be changed at any time. We never share your notification data with third parties."})]})]})})]})},rs=({accountSettings:s,onAccountSettingChange:t})=>{const[n,i]=j.useState(!1),[a,r]=j.useState(!1),[m,c]=j.useState(!1),u={totalSearches:1247,stationsViewed:89,dataUploaded:"2.4 MB",lastActive:"Today, 2:30 PM",accountCreated:"15/12/2023",favoriteStations:12},p=async()=>{c(!0),setTimeout(()=>{console.log("Backing up user data..."),c(!1),i(!1)},3e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Account Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"User",size:20,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:"User ID"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Anonymous User"})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Calendar",size:20,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:"Account Created"}),e.jsx("p",{className:"text-sm text-text-secondary",children:u.accountCreated})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Activity",size:20,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:"Last Active"}),e.jsx("p",{className:"text-sm text-text-secondary",children:u.lastActive})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Data Backup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{id:"autoBackup",label:"Automatic Backup",description:"Automatically backup your settings and preferences weekly",checked:s.autoBackup,onChange:o=>t("autoBackup",o)}),e.jsx(b,{variant:"outline",iconName:"Download",iconPosition:"left",onClick:()=>i(!0),className:"w-full justify-start",children:"Create Manual Backup"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Privacy Controls"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{id:"locationTracking",label:"Location Tracking",description:"Allow the app to track your location for personalized recommendations",checked:s.locationTracking,onChange:o=>t("locationTracking",o)}),e.jsx(B,{id:"usageAnalytics",label:"Usage Analytics",description:"Help improve the app by sharing anonymous usage data",checked:s.usageAnalytics,onChange:o=>t("usageAnalytics",o)}),e.jsx(B,{id:"crashReporting",label:"Crash Reporting",description:"Automatically send crash reports to help fix issues",checked:s.crashReporting,onChange:o=>t("crashReporting",o)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary",children:"Usage Statistics"}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"BarChart3",onClick:()=>r(!0),children:"View Details"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-2xl font-data font-bold text-primary",children:u.totalSearches}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Total Searches"})]}),e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-2xl font-data font-bold text-primary",children:u.stationsViewed}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Stations Viewed"})]}),e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-2xl font-data font-bold text-primary",children:u.dataUploaded}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Data Uploaded"})]}),e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg text-center",children:[e.jsx("p",{className:"text-2xl font-data font-bold text-primary",children:u.favoriteStations}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Favorite Stations"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-heading font-medium text-text-primary mb-4",children:"Account Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{variant:"outline",iconName:"RefreshCw",iconPosition:"left",className:"w-full justify-start",onClick:()=>{console.log("Resetting account preferences...")},children:"Reset All Preferences"}),e.jsx(b,{variant:"outline",iconName:"Trash2",iconPosition:"left",className:"w-full justify-start text-error hover:text-error hover:border-error",onClick:()=>{console.log("Clearing all account data...")},children:"Clear All Account Data"})]})]}),e.jsx(_,{isOpen:n,onClose:()=>i(!1),title:"Create Data Backup",footer:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(b,{variant:"primary",onClick:p,loading:m,disabled:m,children:m?"Creating Backup...":"Create Backup"})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-text-secondary",children:"Create a backup of your settings, preferences, and uploaded data. This backup can be used to restore your account if needed."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Settings & Preferences"}),e.jsx(l,{name:"Check",size:16,className:"text-success"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Uploaded Station Data"}),e.jsx(l,{name:"Check",size:16,className:"text-success"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Search History"}),e.jsx(l,{name:"Check",size:16,className:"text-success"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-secondary rounded-lg",children:[e.jsx("span",{className:"text-sm text-text-primary",children:"Favorite Stations"}),e.jsx(l,{name:"Check",size:16,className:"text-success"})]})]}),e.jsx("div",{className:"bg-accent-50 border border-accent-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-accent-700",children:"The backup file will be downloaded to your device and can be imported later to restore your data."})})]})}),e.jsx(_,{isOpen:a,onClose:()=>r(!1),title:"Detailed Usage Statistics",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-text-primary",children:"Search Activity"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Total Searches"}),e.jsx("span",{className:"font-medium",children:u.totalSearches})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"This Week"}),e.jsx("span",{className:"font-medium",children:"47"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Average per Day"}),e.jsx("span",{className:"font-medium",children:"6.7"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-text-primary",children:"Station Interactions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Stations Viewed"}),e.jsx("span",{className:"font-medium",children:u.stationsViewed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Favorites Added"}),e.jsx("span",{className:"font-medium",children:u.favoriteStations})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Directions Requested"}),e.jsx("span",{className:"font-medium",children:"23"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-text-primary mb-3",children:"Most Searched Fuel Types"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-surface-secondary rounded",children:[e.jsx("span",{className:"text-sm",children:"Unleaded 91"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"78%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"78%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-surface-secondary rounded",children:[e.jsx("span",{className:"text-sm",children:"Diesel"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"45%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"45%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-surface-secondary rounded",children:[e.jsx("span",{className:"text-sm",children:"Premium 95"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"32%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"32%"})]})]})]})]})]})})]})},is=()=>{const[s,t]=j.useState({dataManagement:!0,preferences:!1,display:!1,notifications:!1,account:!1}),[n,i]=j.useState({defaultFuelType:"unleaded",measurementUnits:"metric",priceAlertThreshold:1.5,refreshInterval:"30",locationSharing:!0,autoSaveSearches:!0,showPriceTrends:!0}),[a,r]=j.useState({mapTheme:"standard",priceFormat:"decimal",markerClustering:"auto",showPriceLabels:!0,showDistanceLabels:!0,highlightCheapest:!0,showOpenOnly:!1,compactView:!1}),[m,c]=j.useState({pushEnabled:!0,priceDrops:!0,newStations:!1,priceUpdates:!0,maintenanceAlerts:!0,updateFrequency:"hourly",quietHours:!0,quietStart:"22:00",quietEnd:"07:00"}),[u,p]=j.useState({autoBackup:!0,locationTracking:!0,usageAnalytics:!1,crashReporting:!0}),[o,d]=j.useState(!1),w=f=>{t(S=>({...S,[f]:!S[f]}))},k=(f,S)=>{i(M=>({...M,[f]:S})),d(!0)},y=(f,S)=>{r(M=>({...M,[f]:S})),d(!0)},C=(f,S)=>{c(M=>({...M,[f]:S})),d(!0)},P=(f,S)=>{p(M=>({...M,[f]:S})),d(!0)},g=()=>{console.log("Saving settings...",{preferences:n,displaySettings:a,notifications:m,accountSettings:u}),d(!1)},x=()=>{i({defaultFuelType:"unleaded",measurementUnits:"metric",priceAlertThreshold:1.5,refreshInterval:"30",locationSharing:!0,autoSaveSearches:!0,showPriceTrends:!0}),r({mapTheme:"standard",priceFormat:"decimal",markerClustering:"auto",showPriceLabels:!0,showDistanceLabels:!0,highlightCheapest:!0,showOpenOnly:!1,compactView:!1}),c({pushEnabled:!0,priceDrops:!0,newStations:!1,priceUpdates:!0,maintenanceAlerts:!0,updateFrequency:"hourly",quietHours:!0,quietStart:"22:00",quietEnd:"07:00"}),p({autoBackup:!0,locationTracking:!0,usageAnalytics:!1,crashReporting:!0}),d(!0)},h=()=>{const f={preferences:n,displaySettings:a,notifications:m,accountSettings:u,exportDate:new Date().toISOString()},S=JSON.stringify(f,null,2),M=new Blob([S],{type:"application/json"}),N=URL.createObjectURL(M),v=document.createElement("a");v.href=N,v.download=`melbourne-fuel-finder-settings-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(N)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary mb-2",children:[e.jsx(F,{to:"/map-dashboard",className:"hover:text-primary transition-colors duration-200",children:"Dashboard"}),e.jsx(l,{name:"ChevronRight",size:16}),e.jsx("span",{children:"Settings & Data Management"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-heading font-bold text-text-primary mb-2",children:"Settings & Data Management"}),e.jsx("p",{className:"text-text-secondary max-w-2xl",children:"Configure your preferences, manage uploaded data, and control privacy settings for a personalized fuel tracking experience."})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3 mt-4 lg:mt-0",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"RotateCcw",iconPosition:"left",onClick:x,children:"Reset to Defaults"}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Download",iconPosition:"left",onClick:h,children:"Export My Data"}),e.jsx(b,{variant:"primary",size:"sm",iconName:"Save",iconPosition:"left",onClick:g,disabled:!o,children:"Save Changes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsx("div",{className:"hidden xl:block",children:e.jsxs("div",{className:"sticky top-24 space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium text-text-secondary uppercase tracking-wider mb-4",children:"Settings Categories"}),[{key:"dataManagement",label:"Data Management",icon:"Database"},{key:"preferences",label:"Preferences",icon:"Settings"},{key:"display",label:"Display",icon:"Monitor"},{key:"notifications",label:"Notifications",icon:"Bell"},{key:"account",label:"Account",icon:"User"}].map(f=>e.jsxs("button",{onClick:()=>w(f.key),className:`
                      w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200
                      ${s[f.key]?"bg-primary text-primary-foreground shadow-elevation-1":"text-text-secondary hover:text-text-primary hover:bg-surface-secondary"}
                    `,children:[e.jsx(l,{name:f.icon,size:18}),e.jsx("span",{className:"font-medium",children:f.label})]},f.key))]})}),e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsx(W,{title:"Data Management",icon:"Database",isExpanded:s.dataManagement,onToggle:()=>w("dataManagement"),children:e.jsx(es,{})}),e.jsx(W,{title:"User Preferences",icon:"Settings",isExpanded:s.preferences,onToggle:()=>w("preferences"),children:e.jsx(ss,{preferences:n,onPreferenceChange:k})}),e.jsx(W,{title:"Display Settings",icon:"Monitor",isExpanded:s.display,onToggle:()=>w("display"),children:e.jsx(ts,{displaySettings:a,onDisplaySettingChange:y})}),e.jsx(W,{title:"Notifications",icon:"Bell",isExpanded:s.notifications,onToggle:()=>w("notifications"),children:e.jsx(as,{notifications:m,onNotificationChange:C})}),e.jsx(W,{title:"Account Settings",icon:"User",isExpanded:s.account,onToggle:()=>w("account"),children:e.jsx(rs,{accountSettings:u,onAccountSettingChange:P})})]})]}),e.jsx("div",{className:"xl:hidden fixed bottom-0 left-0 right-0 bg-surface border-t border-border p-4 z-fixed",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"RotateCcw",onClick:x,className:"flex-1",children:"Reset"}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Download",onClick:h,className:"flex-1",children:"Export"}),e.jsx(b,{variant:"primary",size:"sm",iconName:"Save",onClick:g,disabled:!o,className:"flex-1",children:"Save"})]})}),o&&e.jsx("div",{className:"fixed bottom-20 xl:bottom-8 right-4 bg-warning text-warning-foreground px-4 py-2 rounded-lg shadow-elevation-3 animate-fade-in",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"AlertCircle",size:16}),e.jsx("span",{className:"text-sm font-medium",children:"You have unsaved changes"})]})})]})})]})},ns=({onLocationSelect:s,currentLocation:t,isLoading:n})=>{const[i,a]=j.useState(""),[r,m]=j.useState([]),[c,u]=j.useState(!1),[p,o]=j.useState(!1),d=j.useRef(null),w=[{name:"Melbourne CBD",type:"suburb",postcode:"3000"},{name:"South Yarra",type:"suburb",postcode:"3141"},{name:"Richmond",type:"suburb",postcode:"3121"},{name:"Fitzroy",type:"suburb",postcode:"3065"},{name:"Carlton",type:"suburb",postcode:"3053"},{name:"St Kilda",type:"suburb",postcode:"3182"},{name:"Prahran",type:"suburb",postcode:"3181"},{name:"Collingwood",type:"suburb",postcode:"3066"},{name:"Docklands",type:"suburb",postcode:"3008"},{name:"Southbank",type:"suburb",postcode:"3006"},{name:"Flinders Street Station",type:"landmark",address:"Flinders St, Melbourne VIC 3000"},{name:"Southern Cross Station",type:"landmark",address:"Spencer St, Melbourne VIC 3000"},{name:"Queen Victoria Market",type:"landmark",address:"Queen St, Melbourne VIC 3000"},{name:"Royal Melbourne Hospital",type:"landmark",address:"Grattan St, Parkville VIC 3050"},{name:"Melbourne Airport",type:"landmark",address:"Departure Dr, Melbourne Airport VIC 3045"}];j.useEffect(()=>{const x=h=>{d.current&&!d.current.contains(h.target)&&u(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const k=x=>{const h=x.target.value;if(a(h),h.length>1){const f=w.filter(S=>S.name.toLowerCase().includes(h.toLowerCase())||S.postcode&&S.postcode.includes(h));m(f.slice(0,8)),u(!0)}else m([]),u(!1)},y=x=>{a(x.name),u(!1),s==null||s(x)},C=async()=>{o(!0);try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by this browser");navigator.geolocation.getCurrentPosition(x=>{const h={name:"Current Location",type:"current",latitude:x.coords.latitude,longitude:x.coords.longitude,accuracy:x.coords.accuracy};a("Current Location"),s==null||s(h),o(!1)},x=>{console.error("Error getting location:",x),o(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}catch(x){console.error("Geolocation error:",x),o(!1)}},P=()=>{if(i.trim()){const x={name:i,type:"search",query:i.trim()};s==null||s(x)}},g=x=>{x.key==="Enter"&&P()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Search Location"}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{type:"search",placeholder:"Enter suburb, postcode, or landmark",value:i,onChange:k,onKeyPress:g,className:"pl-10 pr-12",disabled:n}),e.jsx(l,{name:"Search",size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted"}),i&&e.jsx(b,{variant:"ghost",size:"sm",iconName:"X",onClick:()=>{a(""),m([]),u(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6"})]}),c&&r.length>0&&e.jsx("div",{className:"absolute z-dropdown w-full mt-1 bg-surface border border-border rounded-lg shadow-elevation-3 max-h-64 overflow-y-auto",children:r.map((x,h)=>e.jsx("button",{onClick:()=>y(x),className:"w-full px-4 py-3 text-left hover:bg-surface-secondary transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:x.type==="landmark"?"MapPin":"Home",size:16,className:"text-text-muted flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:x.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:x.type==="suburb"?`${x.type} • ${x.postcode}`:x.type==="landmark"?x.address:x.type})]})]})},h))})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"Navigation",iconPosition:"left",onClick:C,disabled:p||n,loading:p,className:"flex-1",children:p?"Detecting...":"Use Current Location"}),e.jsx(b,{variant:"primary",size:"sm",iconName:"Search",onClick:P,disabled:!i.trim()||n,children:"Search"})]}),t&&e.jsx("div",{className:"p-3 bg-primary-50 border border-primary-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"MapPin",size:16,className:"text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-primary-700",children:t.name}),t.type==="current"&&e.jsxs("p",{className:"text-xs text-primary-600",children:["Accuracy: ±",Math.round(t.accuracy),"m"]})]})]})})]})},ls=({selectedFuelTypes:s,onFuelTypeChange:t,isCollapsed:n,onToggleCollapse:i})=>{const a=[{id:"unleaded91",name:"Unleaded 91",icon:"Fuel",color:"text-blue-600",description:"Regular unleaded petrol"},{id:"premium95",name:"Premium 95",icon:"Fuel",color:"text-green-600",description:"Premium unleaded 95 octane"},{id:"premium98",name:"Premium 98",icon:"Fuel",color:"text-purple-600",description:"Premium unleaded 98 octane"},{id:"diesel",name:"Diesel",icon:"Fuel",color:"text-orange-600",description:"Diesel fuel"},{id:"e10",name:"E10",icon:"Leaf",color:"text-emerald-600",description:"10% ethanol blend"},{id:"e85",name:"E85",icon:"Leaf",color:"text-teal-600",description:"85% ethanol blend"}],r=o=>{const d=s.includes(o)?s.filter(w=>w!==o):[...s,o];t==null||t(d)},m=()=>{const o=a.map(d=>d.id);t==null||t(o)},c=()=>{t==null||t([])},u=s.length,p=a.length;return e.jsxs("div",{className:"border border-border rounded-lg bg-surface",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Fuel",size:20,className:"text-primary"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Fuel Type"}),e.jsx("p",{className:"text-xs text-text-secondary",children:u===0?"None selected":u===p?"All selected":`${u} of ${p} selected`})]})]}),e.jsx(l,{name:n?"ChevronDown":"ChevronUp",size:16,className:"text-text-muted"})]}),!n&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:m,className:"text-xs text-primary hover:text-primary-700 font-medium transition-colors duration-200",disabled:u===p,children:"Select All"}),e.jsx("button",{onClick:c,className:"text-xs text-text-secondary hover:text-text-primary font-medium transition-colors duration-200",disabled:u===0,children:"Clear All"})]}),e.jsx("div",{className:"space-y-3",children:a.map(o=>{const d=s.includes(o.id);return e.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg border transition-all duration-200 cursor-pointer ${d?"border-primary bg-primary-50 hover:bg-primary-100":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx(R,{type:"checkbox",checked:d,onChange:()=>r(o.id),className:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx(l,{name:o.icon,size:16,className:o.color}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${d?"text-primary-700":"text-text-primary"}`,children:o.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:o.description})]})]}),d&&e.jsx(l,{name:"Check",size:16,className:"text-primary"})]},o.id)})}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Popular Combinations"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>t==null?void 0:t(["unleaded91","e10"]),className:"px-2 py-1 text-xs bg-secondary-100 text-secondary-700 rounded-md hover:bg-secondary-200 transition-colors duration-200",children:"Regular + E10"}),e.jsx("button",{onClick:()=>t==null?void 0:t(["premium95","premium98"]),className:"px-2 py-1 text-xs bg-secondary-100 text-secondary-700 rounded-md hover:bg-secondary-200 transition-colors duration-200",children:"Premium Only"}),e.jsx("button",{onClick:()=>t==null?void 0:t(["diesel"]),className:"px-2 py-1 text-xs bg-secondary-100 text-secondary-700 rounded-md hover:bg-secondary-200 transition-colors duration-200",children:"Diesel Only"})]})]})]})]})},cs=({priceRange:s,onPriceRangeChange:t,isCollapsed:n,onToggleCollapse:i})=>{const[a,r]=j.useState(s.min),[m,c]=j.useState(s.max),[u,p]=j.useState(!1),o=120,d=220,w=1;j.useEffect(()=>{r(s.min),c(s.max)},[s]);const k=N=>{const v=Math.max(o,Math.min(N,m-w));r(v),u||t==null||t({min:v,max:m})},y=N=>{const v=Math.min(d,Math.max(N,a+w));c(v),u||t==null||t({min:a,max:v})},C=(N,v)=>{const z=parseInt(N.target.value);v==="min"?k(z):y(z)},P=()=>{p(!1),t==null||t({min:a,max:m})},g=()=>{p(!0)},x=(N,v)=>{const z=parseFloat(N.target.value)*100;v==="min"?k(Math.round(z)):y(Math.round(z))},h=N=>(N/100).toFixed(2),f=()=>{const N=(a-o)/(d-o)*100,v=(m-o)/(d-o)*100;return`linear-gradient(to right, 
      #e2e8f0 0%, 
      #e2e8f0 ${N}%, 
      #2563eb ${N}%, 
      #2563eb ${v}%, 
      #e2e8f0 ${v}%, 
      #e2e8f0 100%)`},S=[{label:"Budget",min:120,max:150,description:"Under $1.50"},{label:"Average",min:150,max:180,description:"$1.50 - $1.80"},{label:"Premium",min:180,max:220,description:"Above $1.80"}],M=N=>{r(N.min),c(N.max),t==null||t({min:N.min,max:N.max})};return e.jsxs("div",{className:"border border-border rounded-lg bg-surface",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"DollarSign",size:20,className:"text-primary"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Price Range"}),e.jsxs("p",{className:"text-xs text-text-secondary",children:["$",h(a)," - $",h(m)," per litre"]})]})]}),e.jsx(l,{name:n?"ChevronDown":"ChevronUp",size:16,className:"text-text-muted"})]}),!n&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Min Price"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted text-sm",children:"$"}),e.jsx(R,{type:"number",min:h(o),max:h(d),step:"0.01",value:h(a),onChange:N=>x(N,"min"),className:"pl-7 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Max Price"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted text-sm",children:"$"}),e.jsx(R,{type:"number",min:h(o),max:h(d),step:"0.01",value:h(m),onChange:N=>x(N,"max"),className:"pl-7 text-sm"})]})]})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsxs("div",{className:"relative h-6 flex items-center",children:[e.jsx("div",{className:"absolute w-full h-2 rounded-full",style:{background:f()}}),e.jsx("input",{type:"range",min:o,max:d,step:w,value:a,onChange:N=>C(N,"min"),onMouseDown:g,onMouseUp:P,onTouchStart:g,onTouchEnd:P,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer slider-thumb",style:{zIndex:a>d-20?2:1}}),e.jsx("input",{type:"range",min:o,max:d,step:w,value:m,onChange:N=>C(N,"max"),onMouseDown:g,onMouseUp:P,onTouchStart:g,onTouchEnd:P,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer slider-thumb",style:{zIndex:2}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mt-2",children:[e.jsxs("span",{children:["$",h(o)]}),e.jsxs("span",{children:["$",h(d)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-text-primary",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.map((N,v)=>{const z=a===N.min&&m===N.max;return e.jsx("button",{onClick:()=>M(N),className:`p-2 rounded-lg text-xs font-medium transition-all duration-200 ${z?"bg-primary text-primary-foreground shadow-elevation-1":"bg-surface-secondary text-text-secondary hover:bg-border hover:text-text-primary"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-semibold",children:N.label}),e.jsx("p",{className:"text-xs opacity-80",children:N.description})]})},v)})})]}),e.jsx("div",{className:"pt-3 border-t border-border",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-2 bg-surface-secondary rounded-lg",children:[e.jsx("p",{className:"text-xs text-text-secondary",children:"Average Price"}),e.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"$1.67"})]}),e.jsxs("div",{className:"p-2 bg-surface-secondary rounded-lg",children:[e.jsx("p",{className:"text-xs text-text-secondary",children:"Savings Range"}),e.jsx("p",{className:"text-sm font-semibold text-success",children:"Up to $0.25"})]})]})})]}),e.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563eb;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .slider-thumb::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563eb;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
      `})]})},os=({selectedDistance:s,onDistanceChange:t,isCollapsed:n,onToggleCollapse:i})=>{const a=[{value:2,label:"2 km",description:"Very close",icon:"MapPin"},{value:5,label:"5 km",description:"Walking distance",icon:"MapPin"},{value:10,label:"10 km",description:"Short drive",icon:"Car"},{value:20,label:"20 km",description:"Medium drive",icon:"Car"},{value:50,label:"50 km",description:"Long drive",icon:"Navigation"},{value:100,label:"100+ km",description:"Any distance",icon:"Globe"}],r=c=>{t==null||t(c)},m=()=>{const c=a.find(u=>u.value===s);return c?`Within ${c.label}`:"No distance limit"};return e.jsxs("div",{className:"border border-border rounded-lg bg-surface",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Navigation",size:20,className:"text-primary"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Distance Range"}),e.jsx("p",{className:"text-xs text-text-secondary",children:m()})]})]}),e.jsx(l,{name:n?"ChevronDown":"ChevronUp",size:16,className:"text-text-muted"})]}),!n&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsx("div",{className:"space-y-2",children:a.map(c=>{const u=s===c.value;return e.jsxs("button",{onClick:()=>r(c.value),className:`w-full flex items-center space-x-3 p-3 rounded-lg border transition-all duration-200 ${u?"border-primary bg-primary-50 hover:bg-primary-100":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${u?"bg-primary text-primary-foreground":"bg-surface-secondary text-text-muted"}`,children:e.jsx(l,{name:c.icon,size:16})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:`text-sm font-medium ${u?"text-primary-700":"text-text-primary"}`,children:c.label}),e.jsx("p",{className:"text-xs text-text-secondary",children:c.description})]}),u&&e.jsx(l,{name:"Check",size:16,className:"text-primary"})]},c.value)})}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsxs("label",{className:"block text-xs font-medium text-text-primary mb-2",children:["Custom Distance: ",s,"km"]}),e.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:s,onChange:c=>r(parseInt(c.target.value)),className:"w-full h-2 bg-secondary-200 rounded-lg appearance-none cursor-pointer slider-thumb"}),e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"}),e.jsx("span",{children:"100km+"})]})]}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Estimated Travel Time"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 bg-surface-secondary rounded-lg text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(l,{name:"Car",size:12,className:"text-text-muted"}),e.jsx("span",{className:"text-xs text-text-secondary",children:"Driving"})]}),e.jsx("p",{className:"text-sm font-semibold text-text-primary",children:s<=5?"5-10 min":s<=20?"15-25 min":s<=50?"30-45 min":"45+ min"})]}),e.jsxs("div",{className:"p-2 bg-surface-secondary rounded-lg text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(l,{name:"MapPin",size:12,className:"text-text-muted"}),e.jsx("span",{className:"text-xs text-text-secondary",children:"Walking"})]}),e.jsx("p",{className:"text-sm font-semibold text-text-primary",children:s<=2?"20-30 min":s<=5?"45-60 min":"60+ min"})]})]})]}),e.jsx("div",{className:"p-3 bg-accent-50 border border-accent-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Info",size:16,className:"text-accent-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-accent-700",children:"Distance calculated from your current location"}),e.jsx("p",{className:"text-xs text-accent-600 mt-1",children:"Results may vary based on traffic conditions and route availability."})]})]})})]}),e.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563eb;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .slider-thumb::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563eb;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
      `})]})},ds=({selectedBrands:s,selectedAmenities:t,selectedPaymentMethods:n,operatingHours:i,onBrandsChange:a,onAmenitiesChange:r,onPaymentMethodsChange:m,onOperatingHoursChange:c,isCollapsed:u,onToggleCollapse:p})=>{const o=[{id:"shell",name:"Shell",logo:"🐚",color:"text-red-600"},{id:"bp",name:"BP",logo:"🟢",color:"text-green-600"},{id:"caltex",name:"Caltex",logo:"⭐",color:"text-blue-600"},{id:"7eleven",name:"7-Eleven",logo:"7️⃣",color:"text-orange-600"},{id:"mobil",name:"Mobil",logo:"🔴",color:"text-red-500"},{id:"united",name:"United",logo:"🔵",color:"text-blue-500"},{id:"liberty",name:"Liberty",logo:"🗽",color:"text-purple-600"},{id:"metro",name:"Metro",logo:"🚇",color:"text-gray-600"}],d=[{id:"carwash",name:"Car Wash",icon:"Car",description:"Automatic or self-service"},{id:"convenience",name:"Convenience Store",icon:"ShoppingBag",description:"Snacks and essentials"},{id:"atm",name:"ATM",icon:"CreditCard",description:"Cash withdrawal"},{id:"restrooms",name:"Restrooms",icon:"Home",description:"Public facilities"},{id:"airpump",name:"Air Pump",icon:"Wind",description:"Tire inflation"},{id:"vacuum",name:"Vacuum",icon:"Zap",description:"Car cleaning"},{id:"food",name:"Food Service",icon:"Coffee",description:"Hot food and drinks"},{id:"parking",name:"Parking",icon:"Square",description:"Customer parking"}],w=[{id:"cash",name:"Cash",icon:"Banknote"},{id:"eftpos",name:"EFTPOS",icon:"CreditCard"},{id:"visa",name:"Visa",icon:"CreditCard"},{id:"mastercard",name:"Mastercard",icon:"CreditCard"},{id:"amex",name:"American Express",icon:"CreditCard"},{id:"paypal",name:"PayPal",icon:"Smartphone"},{id:"applepay",name:"Apple Pay",icon:"Smartphone"},{id:"googlepay",name:"Google Pay",icon:"Smartphone"}],k=[{id:"any",name:"Any Time",description:"No time restrictions"},{id:"24/7",name:"24/7 Only",description:"Always open"},{id:"current",name:"Open Now",description:"Currently operating"},{id:"early",name:"Early Morning",description:"Open before 7 AM"},{id:"late",name:"Late Night",description:"Open after 10 PM"}],y=x=>{const h=s.includes(x)?s.filter(f=>f!==x):[...s,x];a==null||a(h)},C=x=>{const h=t.includes(x)?t.filter(f=>f!==x):[...t,x];r==null||r(h)},P=x=>{const h=n.includes(x)?n.filter(f=>f!==x):[...n,x];m==null||m(h)},g=()=>s.length+t.length+n.length+(i!=="any"?1:0);return e.jsxs("div",{className:"border border-border rounded-lg bg-surface",children:[e.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-4 hover:bg-surface-secondary transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{name:"Settings",size:20,className:"text-primary"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Advanced Filters"}),e.jsx("p",{className:"text-xs text-text-secondary",children:g()===0?"No advanced filters applied":`${g()} filter${g()>1?"s":""} applied`})]})]}),e.jsx(l,{name:u?"ChevronDown":"ChevronUp",size:16,className:"text-text-muted"})]}),!u&&e.jsxs("div",{className:"px-4 pb-4 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Preferred Brands"}),e.jsx("button",{onClick:()=>a==null?void 0:a([]),className:"text-xs text-text-secondary hover:text-text-primary transition-colors duration-200",disabled:s.length===0,children:"Clear All"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(x=>{const h=s.includes(x.id);return e.jsxs("label",{className:`flex items-center space-x-2 p-2 rounded-lg border cursor-pointer transition-all duration-200 ${h?"border-primary bg-primary-50":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx(R,{type:"checkbox",checked:h,onChange:()=>y(x.id),className:"w-4 h-4"}),e.jsx("span",{className:"text-lg",children:x.logo}),e.jsx("span",{className:`text-sm font-medium ${h?"text-primary-700":"text-text-primary"}`,children:x.name})]},x.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Operating Hours"}),e.jsx("div",{className:"space-y-2",children:k.map(x=>{const h=i===x.id;return e.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-all duration-200 ${h?"border-primary bg-primary-50":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx(R,{type:"radio",name:"operatingHours",checked:h,onChange:()=>c==null?void 0:c(x.id),className:"w-4 h-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${h?"text-primary-700":"text-text-primary"}`,children:x.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:x.description})]})]},x.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Amenities"}),e.jsx("button",{onClick:()=>r==null?void 0:r([]),className:"text-xs text-text-secondary hover:text-text-primary transition-colors duration-200",disabled:t.length===0,children:"Clear All"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:d.map(x=>{const h=t.includes(x.id);return e.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-all duration-200 ${h?"border-primary bg-primary-50":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx(R,{type:"checkbox",checked:h,onChange:()=>C(x.id),className:"w-4 h-4"}),e.jsx(l,{name:x.icon,size:16,className:"text-text-muted"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${h?"text-primary-700":"text-text-primary"}`,children:x.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:x.description})]})]},x.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Payment Methods"}),e.jsx("button",{onClick:()=>m==null?void 0:m([]),className:"text-xs text-text-secondary hover:text-text-primary transition-colors duration-200",disabled:n.length===0,children:"Clear All"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(x=>{const h=n.includes(x.id);return e.jsxs("label",{className:`flex items-center space-x-2 p-2 rounded-lg border cursor-pointer transition-all duration-200 ${h?"border-primary bg-primary-50":"border-border hover:border-border-dark hover:bg-surface-secondary"}`,children:[e.jsx(R,{type:"checkbox",checked:h,onChange:()=>P(x.id),className:"w-4 h-4"}),e.jsx(l,{name:x.icon,size:14,className:"text-text-muted"}),e.jsx("span",{className:`text-xs font-medium ${h?"text-primary-700":"text-text-primary"}`,children:x.name})]},x.id)})})]})]})]})},ms=({filters:s,onRemoveFilter:t,onClearAll:n,resultCount:i,isLoading:a})=>{const m=(()=>{const p=[];if(s.location&&s.location.name&&p.push({id:"location",type:"location",label:s.location.name,icon:"MapPin"}),s.fuelTypes&&s.fuelTypes.length>0){const o={unleaded91:"Unleaded 91",premium95:"Premium 95",premium98:"Premium 98",diesel:"Diesel",e10:"E10",e85:"E85"};s.fuelTypes.forEach(d=>{p.push({id:`fuel-${d}`,type:"fuelType",value:d,label:o[d]||d,icon:"Fuel"})})}if(s.priceRange&&(s.priceRange.min>120||s.priceRange.max<220)){const o=(s.priceRange.min/100).toFixed(2),d=(s.priceRange.max/100).toFixed(2);p.push({id:"priceRange",type:"priceRange",label:`$${o} - $${d}`,icon:"DollarSign"})}if(s.distance&&s.distance<100&&p.push({id:"distance",type:"distance",label:`Within ${s.distance}km`,icon:"Navigation"}),s.brands&&s.brands.length>0){const o={shell:"Shell",bp:"BP",caltex:"Caltex","7eleven":"7-Eleven",mobil:"Mobil",united:"United",liberty:"Liberty",metro:"Metro"};s.brands.forEach(d=>{p.push({id:`brand-${d}`,type:"brand",value:d,label:o[d]||d,icon:"Star"})})}if(s.operatingHours&&s.operatingHours!=="any"){const o={"24/7":"24/7 Only",current:"Open Now",early:"Early Morning",late:"Late Night"};p.push({id:"operatingHours",type:"operatingHours",label:o[s.operatingHours]||s.operatingHours,icon:"Clock"})}if(s.amenities&&s.amenities.length>0){const o={carwash:"Car Wash",convenience:"Convenience Store",atm:"ATM",restrooms:"Restrooms",airpump:"Air Pump",vacuum:"Vacuum",food:"Food Service",parking:"Parking"};s.amenities.forEach(d=>{p.push({id:`amenity-${d}`,type:"amenity",value:d,label:o[d]||d,icon:"Plus"})})}if(s.paymentMethods&&s.paymentMethods.length>0){const o={cash:"Cash",eftpos:"EFTPOS",visa:"Visa",mastercard:"Mastercard",amex:"American Express",paypal:"PayPal",applepay:"Apple Pay",googlepay:"Google Pay"};s.paymentMethods.forEach(d=>{p.push({id:`payment-${d}`,type:"paymentMethod",value:d,label:o[d]||d,icon:"CreditCard"})})}return p})(),c=m.length>0,u=p=>{t==null||t(p.type,p.value)};return c?e.jsxs("div",{className:"bg-surface border border-border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Filter",size:16,className:"text-primary"}),e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Active Filters"}),e.jsxs("span",{className:"text-xs text-text-secondary",children:["(",m.length,")"]})]}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"X",onClick:n,className:"text-xs",children:"Clear All"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(p=>e.jsxs("div",{className:"inline-flex items-center space-x-2 px-3 py-1.5 bg-primary-50 border border-primary-200 rounded-full text-sm",children:[e.jsx(l,{name:p.icon,size:14,className:"text-primary-600"}),e.jsx("span",{className:"text-primary-700 font-medium",children:p.label}),e.jsx("button",{onClick:()=>u(p),className:"ml-1 text-primary-600 hover:text-primary-800 transition-colors duration-200",children:e.jsx(l,{name:"X",size:12})})]},p.id))}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"MapPin",size:16,className:"text-text-muted"}),e.jsx("span",{className:"text-sm text-text-secondary",children:a?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Loader2",size:14,className:"animate-spin"}),e.jsx("span",{children:"Searching..."})]}):`${i} station${i!==1?"s":""} found`})]}),!a&&i>0&&e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-text-secondary",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"TrendingDown",size:12,className:"text-success"}),e.jsx("span",{children:"Best: $1.45"})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"Navigation",size:12,className:"text-primary"}),e.jsx("span",{children:"Nearest: 1.2km"})]})]})]}),!a&&i===0&&e.jsx("div",{className:"mt-3 p-3 bg-warning-50 border border-warning-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"AlertTriangle",size:16,className:"text-warning-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-warning-700",children:"No stations match your criteria"}),e.jsx("p",{className:"text-xs text-warning-600 mt-1",children:"Try removing some filters or expanding your search area to see more results."})]})]})})]})]}):null},xs=({onLoadSearch:s,onSaveCurrentSearch:t,currentFilters:n})=>{const[i,a]=j.useState(!1),[r,m]=j.useState(""),[c,u]=j.useState([{id:1,name:"Cheap Unleaded Near Home",filters:{location:{name:"Richmond",type:"suburb"},fuelTypes:["unleaded91","e10"],priceRange:{min:120,max:160},distance:10},createdAt:new Date(Date.now()-864e5*2),lastUsed:new Date(Date.now()-864e5)},{id:2,name:"Premium Fuel CBD",filters:{location:{name:"Melbourne CBD",type:"suburb"},fuelTypes:["premium95","premium98"],distance:5,operatingHours:"24/7"},createdAt:new Date(Date.now()-864e5*7),lastUsed:new Date(Date.now()-864e5*3)},{id:3,name:"Shell Stations with Car Wash",filters:{brands:["shell"],amenities:["carwash","convenience"],distance:20},createdAt:new Date(Date.now()-864e5*14),lastUsed:new Date(Date.now()-864e5*5)}]),p=()=>{if(!r.trim())return;const y={id:Date.now(),name:r.trim(),filters:{...n},createdAt:new Date,lastUsed:new Date};u(C=>[y,...C]),m(""),a(!1)},o=y=>{u(C=>C.map(P=>P.id===y.id?{...P,lastUsed:new Date}:P)),s==null||s(y.filters)},d=y=>{u(C=>C.filter(P=>P.id!==y))},w=y=>{const C=[];return y.location&&C.push(y.location.name),y.fuelTypes&&y.fuelTypes.length>0&&C.push(`${y.fuelTypes.length} fuel type${y.fuelTypes.length>1?"s":""}`),y.distance&&C.push(`${y.distance}km radius`),y.brands&&y.brands.length>0&&C.push(`${y.brands.length} brand${y.brands.length>1?"s":""}`),C.join(" • ")},k=y=>{const P=Math.floor((new Date-y)/(1e3*60*60));if(P<1)return"Just now";if(P<24)return`${P}h ago`;const g=Math.floor(P/24);return g<7?`${g}d ago`:`${Math.floor(g/7)}w ago`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{name:"Bookmark",size:20,className:"text-primary"}),e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary",children:"Saved Searches"})]}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Plus",iconPosition:"left",onClick:()=>a(!0),children:"Save Current"})]}),i&&e.jsxs("div",{className:"p-4 bg-surface-secondary border border-border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Save Current Search"}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"X",onClick:()=>{a(!1),m("")}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{type:"text",placeholder:"Enter search name...",value:r,onChange:y=>m(y.target.value),onKeyPress:y=>y.key==="Enter"&&p(),className:"text-sm"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{variant:"primary",size:"sm",onClick:p,disabled:!r.trim(),className:"flex-1",children:"Save Search"}),e.jsx(b,{variant:"outline",size:"sm",onClick:()=>{a(!1),m("")},className:"flex-1",children:"Cancel"})]})]})]}),c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(y=>e.jsx("div",{className:"p-4 bg-surface border border-border rounded-lg hover:border-border-dark transition-colors duration-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary truncate",children:y.name}),e.jsx("span",{className:"text-xs text-text-muted bg-surface-secondary px-2 py-0.5 rounded-full",children:k(y.lastUsed)})]}),e.jsx("p",{className:"text-xs text-text-secondary mb-2",children:w(y.filters)}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-text-muted",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"Calendar",size:12}),e.jsxs("span",{children:["Created ",k(y.createdAt)]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(l,{name:"Clock",size:12}),e.jsxs("span",{children:["Used ",k(y.lastUsed)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-3",children:[e.jsx(b,{variant:"ghost",size:"sm",iconName:"Play",onClick:()=>o(y),className:"p-1.5"}),e.jsx(b,{variant:"ghost",size:"sm",iconName:"Trash2",onClick:()=>d(y.id),className:"p-1.5 text-error hover:text-error-700"})]})]})},y.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(l,{name:"Bookmark",size:48,className:"text-text-muted mx-auto mb-3"}),e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-1",children:"No Saved Searches"}),e.jsx("p",{className:"text-xs text-text-secondary mb-4",children:"Save your frequently used search criteria for quick access."}),e.jsx(b,{variant:"outline",size:"sm",iconName:"Plus",iconPosition:"left",onClick:()=>a(!0),children:"Save Your First Search"})]}),c.length>0&&e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Quick Access"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.slice(0,3).map(y=>e.jsxs("button",{onClick:()=>o(y),className:"inline-flex items-center space-x-1 px-2 py-1 bg-primary-50 text-primary-700 rounded-md text-xs font-medium hover:bg-primary-100 transition-colors duration-200",children:[e.jsx(l,{name:"Zap",size:12}),e.jsx("span",{children:y.name})]},y.id))})]})]})},us=()=>{const s=q(),[t,n]=j.useState(!1),[i,a]=j.useState(!0),[r,m]=j.useState(!1),[c,u]=j.useState(0),[p,o]=j.useState(null),[d,w]=j.useState([]),[k,y]=j.useState({min:120,max:220}),[C,P]=j.useState(10),[g,x]=j.useState([]),[h,f]=j.useState([]),[S,M]=j.useState([]),[N,v]=j.useState("any"),[z,D]=j.useState({fuelType:!1,priceRange:!1,distance:!1,advanced:!0});j.useEffect(()=>{const A=()=>{n(window.innerWidth<1024),window.innerWidth>=1024&&a(!0)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),j.useEffect(()=>{(async()=>{m(!0),await new Promise(I=>setTimeout(I,800));let E=45;d.length>0&&(E=Math.max(E-d.length*5,5)),g.length>0&&(E=Math.max(E-g.length*8,3)),h.length>0&&(E=Math.max(E-h.length*3,2)),C<10&&(E=Math.max(E-10,1)),k.max<180&&(E=Math.max(E-15,1)),u(E),m(!1)})()},[p,d,k,C,g,h,S,N]);const U=A=>{D(E=>({...E,[A]:!E[A]}))},T=A=>{o(A)},L=()=>{console.log("Applying filters:",{location:p,fuelTypes:d,priceRange:k,distance:C,brands:g,amenities:h,paymentMethods:S,operatingHours:N}),t&&a(!1),s("/map-dashboard",{state:{filters:{location:p,fuelTypes:d,priceRange:k,distance:C,brands:g,amenities:h,paymentMethods:S,operatingHours:N}}})},$=()=>{o(null),w([]),y({min:120,max:220}),P(10),x([]),f([]),M([]),v("any")},G=(A,E)=>{switch(A){case"location":o(null);break;case"fuelType":w(I=>I.filter(H=>H!==E));break;case"priceRange":y({min:120,max:220});break;case"distance":P(10);break;case"brand":x(I=>I.filter(H=>H!==E));break;case"amenity":f(I=>I.filter(H=>H!==E));break;case"paymentMethod":M(I=>I.filter(H=>H!==E));break;case"operatingHours":v("any");break}},re=()=>{console.log("Saving current search filters")},ie=A=>{A.location&&o(A.location),A.fuelTypes&&w(A.fuelTypes),A.priceRange&&y(A.priceRange),A.distance&&P(A.distance),A.brands&&x(A.brands),A.amenities&&f(A.amenities),A.paymentMethods&&M(A.paymentMethods),A.operatingHours&&v(A.operatingHours)},X={location:p,fuelTypes:d,priceRange:k,distance:C,brands:g,amenities:h,paymentMethods:S,operatingHours:N};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"pt-16 lg:pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t&&e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-heading font-bold text-text-primary",children:"Search & Filter"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Find the perfect fuel station for your needs"})]}),e.jsx(b,{variant:"primary",size:"sm",iconName:i?"X":"Filter",onClick:()=>a(!i),children:i?"Close":"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:`lg:col-span-1 ${t&&!i?"hidden":""}`,children:e.jsxs("div",{className:"space-y-6",children:[!t&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-text-primary mb-2",children:"Search & Filter Interface"}),e.jsx("p",{className:"text-text-secondary",children:"Refine your search to find the perfect fuel station with the best prices and amenities."})]}),e.jsx(ns,{onLocationSelect:T,currentLocation:p,isLoading:r}),e.jsx(ls,{selectedFuelTypes:d,onFuelTypeChange:w,isCollapsed:z.fuelType,onToggleCollapse:()=>U("fuelType")}),e.jsx(cs,{priceRange:k,onPriceRangeChange:y,isCollapsed:z.priceRange,onToggleCollapse:()=>U("priceRange")}),e.jsx(os,{selectedDistance:C,onDistanceChange:P,isCollapsed:z.distance,onToggleCollapse:()=>U("distance")}),e.jsx(ds,{selectedBrands:g,selectedAmenities:h,selectedPaymentMethods:S,operatingHours:N,onBrandsChange:x,onAmenitiesChange:f,onPaymentMethodsChange:M,onOperatingHoursChange:v,isCollapsed:z.advanced,onToggleCollapse:()=>U("advanced")}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-border",children:[e.jsx(b,{variant:"primary",size:"md",iconName:"Search",iconPosition:"left",onClick:L,loading:r,fullWidth:!0,children:r?"Searching...":"Apply Filters & Search"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",iconName:"RotateCcw",onClick:$,children:"Clear All"}),e.jsx(b,{variant:"secondary",size:"sm",iconName:"Map",onClick:()=>s("/map-dashboard"),children:"View Map"})]})]})]})}),e.jsx("div",{className:`lg:col-span-2 ${t&&i?"hidden":""}`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(ms,{filters:X,onRemoveFilter:G,onClearAll:$,resultCount:c,isLoading:r}),e.jsx(xs,{onLoadSearch:ie,onSaveCurrentSearch:re,currentFilters:X}),e.jsx("div",{className:"bg-surface border border-border rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(l,{name:"Lightbulb",size:20,className:"text-accent mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary mb-3",children:"Search Tips"}),e.jsxs("div",{className:"space-y-2 text-sm text-text-secondary",children:[e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Check",size:16,className:"text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Use your current location for the most accurate distance calculations"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Check",size:16,className:"text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Save frequently used searches for quick access"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Check",size:16,className:"text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Combine multiple fuel types to see more options"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Check",size:16,className:"text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Use brand filters to find your preferred stations"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx(l,{name:"Check",size:16,className:"text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Check operating hours to ensure stations are open when you need them"})]})]})]})]})}),e.jsxs("div",{className:"bg-surface border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-text-primary mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(b,{variant:"outline",iconName:"Upload",iconPosition:"left",onClick:()=>s("/csv-data-upload"),fullWidth:!0,children:"Upload Station Data"}),e.jsx(b,{variant:"outline",iconName:"Settings",iconPosition:"left",onClick:()=>s("/settings-and-data-management"),fullWidth:!0,children:"Manage Settings"})]})]})]})})]})]})})]})},ps=()=>{const s=q(),t=()=>{s("/")};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"relative",children:e.jsx("h1",{className:"text-9xl font-bold text-primary opacity-20",children:"404"})})}),e.jsx("h2",{className:"text-2xl font-medium text-onBackground mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-onBackground/70 mb-8",children:"The page you're looking for doesn't exist. Let's get you back!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(b,{variant:"primary",icon:e.jsx(l,{name:"ArrowLeft"}),iconPosition:"left",onClick:()=>window.history.back(),children:"Go Back"}),e.jsx(b,{variant:"outline",icon:e.jsx(l,{name:"Home"}),iconPosition:"left",onClick:t,children:"Back to Home"})]})]})})},hs=()=>e.jsx(ce,{children:e.jsxs(De,{children:[e.jsx(ze,{}),e.jsxs(oe,{children:[e.jsx(V,{path:"/",element:e.jsx(Le,{})}),e.jsx(V,{path:"/map-dashboard",element:e.jsx(Re,{})}),e.jsx(V,{path:"/station-listing",element:e.jsx(Be,{})}),e.jsx(V,{path:"/csv-data-upload",element:e.jsx(We,{})}),e.jsx(V,{path:"/station/:stationId",element:e.jsx(Je,{})}),e.jsx(V,{path:"/settings-and-data-management",element:e.jsx(is,{})}),e.jsx(V,{path:"/search-and-filter-interface",element:e.jsx(us,{})}),e.jsx(V,{path:"*",element:e.jsx(ps,{})})]})]})}),fs=document.getElementById("root"),js=te(fs);js.render(e.jsx(hs,{}));
